

   1               	        .data
   2               	        .align 2
   3               	environ:
   4 0000 0000 0000 	        .long 0
   5               	 	.align	2
   6               	
   7               	.extern main
   8               	.extern exit
   9               	.extern monitor_begin
  10               	.extern hardware_init_hook
  11               	.extern software_init_hook
  12               	.extern atexit
  13               	.extern __do_global_dtors
  14               	.extern __bss_start
  15               	.extern _end
  16               	
  17               	.global start
  18               	
  19               	.text
  20               	.even
  21               		/* See if user supplied their own stack (__stack != 0).  If not, then
  22               		 * default to using the value of %sp as set by the ROM monitor.
  23               		 */
  24 0000 207C 0000 		movel	#__stack, %a0
  24      0000 
  25 0006 B1FC 0000 		cmpl	#0, %a0
  25      0000 
  26 000c 6702      		jbeq    1f
  27 000e 2E48      		movel	%a0, %sp
  28               	1:
  29               		/* set up initial stack frame */
  30 0010 4E56 FFF8 		link	%a6, #-8
  31               	
  32               		/* zero out the bss section */
  33 0014 223C 0000 		movel	#__bss_start, %d1
  33      0000 
  34 001a 203C 0000 		movel	#_end, %d0
  34      0000 
  35 0020 B280      		cmpl	%d0, %d1
  36 0022 6712      		jbeq	3f
  37 0024 2041      		movl	%d1, %a0
  38 0026 9081      		subl	%d1, %d0
  39 0028 5380      		subql	#1, %d0
  40               	2:
  41 002a 4218      		clrb	(%a0)+
  42 002c 51C8 FFFC 		dbra	%d0, 2b
  43 0030 4240      		clrw	%d0
  44 0032 5380      		subql	#1, %d0
  45 0034 64F4      		jbcc	2b
  46               	3:
  47               		/* jmp monitor initialize after making up  bss */
  48 0036 4EF9 0000 		jmp	monitor_begin
  48      0000 
  49               	start:
  50               		/* monitor returns here.
  51               		 * re-setup stack for C programs.
  52               	         * See if user supplied their own stack (__stack != 0).  If not, then


  53               		 * default to using the value of %sp as set by the ROM monitor.
  54               		 */
  55 003c 207C 0000 		movel	#__stack, %a0
  55      0000 
  56 0042 B1FC 0000 		cmpl	#0, %a0
  56      0000 
  57 0048 6702      		jbeq    skip
  58 004a 2E48      		movel	%a0, %sp
  59               	skip:
  60               		/* set up initial stack frame */
  61 004c 4E56 FFF8 		link	%a6, #-8
  62               	
  63               		/*
  64               		 * initialize target specific stuff. Only execute these
  65               		 * functions it they exist.
  66               		 */
  67 0050 41F9 0000 		lea	hardware_init_hook, %a0
  67      0000 
  68 0056 B1FC 0000 		cmpl	#0, %a0
  68      0000 
  69 005c 6702      		jbeq	4f
  70 005e 4E90      		jsr     (%a0)
  71               	4:
  72 0060 41F9 0000 		lea	software_init_hook, %a0
  72      0000 
  73 0066 B1FC 0000 		cmpl	#0, %a0
  73      0000 
  74 006c 6702      		jbeq	5f
  75 006e 4E90      		jsr     (%a0)
  76               	5:
  77               	
  78               		/*
  79               		 * call the main routine from the application to get it going.
  80               		 * main (argc, argv, environ)
  81               		 * we pass argv as a pointer to NULL.
  82               		 */
  83               	
  84               		/* put __do_global_dtors in the atexit list so 
  85               		 * the destructors get run */
  86               	/* 
  87               		movel	#__do_global_dtors,(%sp)
  88               		jsr	atexit
  89               		movel	#__FINI_SECTION__,(%sp)
  90               		jsr	atexit
  91               		jsr	__INIT_SECTION__
  92               	*/
  93               		
  94               		** setup argv, argc and jump into main
  95 0070 4878 0000 	        pea     0
  96 0074 4879 0000 	        pea     environ
  96      0000 
  97 007a 486F 0004 	        pea     %sp@(4)
  98 007e 4878 0000 	        pea     0
  99 0082 4EB9 0000 		jsr	main
  99      0000 
 100 0088 2F00      		movel	%d0, %sp@-
 101               	


 102 008a 4EB9 0000 	        jsr     exit
 102      0000 
 103               	.even




   1               	***************************************************************
   2               	**各種レジスタ定義
   3               	***************************************************************
   4               	***************
   5               	**レジスタ群の先頭
   6               	***************
   7               	.equ REGBASE,   0xFFF000          | DMAPを使用．
   8               	.equ IOBASE,    0x00d00000
   9               	***************
  10               	**割り込み関係のレジスタ
  11               	***************
  12               	.equ IVR,       REGBASE+0x300     |割り込みベクタレジスタ
  13               	.equ IMR,       REGBASE+0x304     |割り込みマスクレジスタ
  14               	.equ ISR,       REGBASE+0x30c     |割り込みステータスレジスタ
  15               	.equ IPR,       REGBASE+0x310     |割り込みペンディングレジスタ
  16               	***************
  17               	**タイマ関係のレジスタ
  18               	***************
  19               	.equ TCTL1,     REGBASE+0x600     |タイマ１コントロールレジスタ
  20               	.equ TPRER1,    REGBASE+0x602     |タイマ１プリスケーラレジスタ
  21               	.equ TCMP1,     REGBASE+0x604     |タイマ１コンペアレジスタ
  22               	.equ TCN1,      REGBASE+0x608     |タイマ１カウンタレジスタ
  23               	.equ TSTAT1,    REGBASE+0x60a     |タイマ１ステータスレジスタ
  24               	***************
  25               	** UART1（送受信）関係のレジスタ
  26               	***************
  27               	.equ USTCNT1,   REGBASE+0x900     | UART1ステータス/コントロールレジスタ
  28               	.equ UBAUD1,    REGBASE+0x902     | UART1ボーコントロールレジスタ
  29               	.equ URX1,      REGBASE+0x904     | UART1受信レジスタ
  30               	.equ UTX1,      REGBASE+0x906     | UART1送信レジスタ
  31               	***************
  32               	** LED
  33               	***************
  34               	.equ LED7,      IOBASE+0x000002f  |ボード搭載のLED用レジスタ
  35               	.equ LED6,      IOBASE+0x000002d  |使用法については付録A.4.3.1
  36               	.equ LED5,      IOBASE+0x000002b
  37               	.equ LED4,      IOBASE+0x0000029
  38               	.equ LED3,      IOBASE+0x000003f
  39               	.equ LED2,      IOBASE+0x000003d
  40               	.equ LED1,      IOBASE+0x000003b
  41               	.equ LED0,      IOBASE+0x0000039
  42               	
  43               	*************************
  44               	**システムコール番号
  45               	*************************
  46               	.equ SYSCALL_NUM_GETSTRING,    1
  47               	.equ SYSCALL_NUM_PUTSTRING,    2
  48               	.equ SYSCALL_NUM_RESET_TIMER,  3
  49               	.equ SYSCALL_NUM_SET_TIMER,    4
  50               		
  51               	***************************************************************
  52               	**スタック領域の確保
  53               	***************************************************************
  54               	.section .bss
  55               	.even
  56               	SYS_STK:
  57 0000 0000 0000 		.ds.b   0x4000  |システムスタック領域


  57      0000 0000 
  57      0000 0000 
  57      0000 0000 
  57      0000 0000 
  58               		.even
  59               	SYS_STK_TOP:            |システムスタック領域の最後尾
  60               	
  61               	task_p:
  62 4000 0000 0000 		.ds.l 1		|SET_TIMERで登録されるタスクポインタ
  63               	
  64               	***************************************************************
  65               	**初期化 鵜飼, 平川, 松下
  66               	***************************************************************
  67               	.extern	start
  68               	.global	monitor_begin
  69               	.section .text
  70               	.even
  71               	monitor_begin:	
  72               	boot:
  73               		*スーパーバイザ&各種設定を行っている最中の割込禁止
  74 0000 46FC 2700 		move.w #0x2700,%SR
  75 0004 4FF9 0000 		lea.l  SYS_STK_TOP, %SP | Set SSP
  75      0000 
  76               	
  77               		****************
  78               		**割り込みコントローラの初期化
  79               		****************
  80 000a 13FC 0040 		move.b #0x40, IVR       |ユーザ割り込みベクタ番号を
  80      00FF F300 
  81               					| 0x40+levelに設定.
  82 0012 23FC 00FF 		move.l #0x00ffffff, IMR |全割り込みマスク|
  82      FFFF 00FF 
  82      F304 
  83               	
  84               		****************
  85               		**送受信(UART1)関係の初期化(割り込みレベルは4に固定されている)
  86               		****************
  87 001c 33FC 0000 		move.w #0x0000, USTCNT1 |リセット
  87      00FF F900 
  88 0024 33FC E10C 		move.w #0xe10c, USTCNT1 |送受信可能,パリティなし, 1 stop, 8 bit,
  88      00FF F900 
  89               					|送受信割り込み禁止
  90 002c 33FC 0038 		move.w #0x0038, UBAUD1  | baud rate = 230400 bps
  90      00FF F902 
  91               	
  92               		****************
  93               		**タイマ関係の初期化(割り込みレベルは6に固定されている)
  94               		*****************
  95 0034 33FC 0004 		move.w #0x0004, TCTL1   | restart,割り込み不可,
  95      00FF F600 
  96               					|システムクロックの1/16を単位として計時，
  97               					|タイマ使用停止
  98               	
  99               		***************
 100               		**キュー関係の初期化
 101               		***************
 102 003c 4EBA 028C 		jsr Q_INIT


 103               	
 104               		***************
 105               		**割り込みベクタの設定
 106               		***************
 107 0040 21FC 0000 		move.l #check_send_interrupt,       0x110 /* level 4, (64+4)*4 */
 107      0000 0110 
 108 0048 21FC 0000 		move.l #check_timer_interrupt,0x118 /* level 6, (64+6)*4 */
 108      0000 0118 
 109 0050 21FC 0000 		move.l #systemcall_if,        0x080 /* trap #0 */
 109      0000 0080 
 110               	
 111 0058 23FC 00FF 		move.l #0x00ff3ff9, IMR       |送受信(UART1)とタイマのマスク解除|
 111      3FF9 00FF 
 111      F304 
 112               		** 走行モードとレベルの設定 (「ユーザモード」への移行処理)
 113 0062 46FC 0000 		move.w #0x0000, %SR | USER MODE, LEVEL 0
 114               	
 115 0066 4EF9 0000 		jmp	start
 115      0000 
 116               	
 117 006c 6000 0002 		bra	MAIN
 118               	
 119               	
 120               	****************************************************************
 121               	*** プログラム領域 
 122               	****************************************************************
 123               	.section .text
 124               	.even
 125               	MAIN:
 126               	** 走行モードとレベルの設定 (「ユーザモード」への移行処理)
 127 0070 46FC 0000 	move.w #0x0000, %SR | USER MODE, LEVEL 0
 128 0074 4FF9 0000 	lea.l USR_STK_TOP,%SP | user stack の設定
 128      0000 
 129               	** システムコールによる RESET_TIMER の起動
 130 007a 7003      	move.l #SYSCALL_NUM_RESET_TIMER,%D0
 131 007c 4E40      	trap #0
 132               	** システムコールによる SET_TIMER の起動
 133 007e 7004      	move.l #SYSCALL_NUM_SET_TIMER, %D0
 134 0080 323C C350 	move.w #50000, %D1
 135 0084 243C 0000 	move.l #TT, %D2
 135      0000 
 136 008a 4E40      	trap #0
 137               	******************************
 138               	* sys_GETSTRING, sys_PUTSTRING のテスト
 139               	* ターミナルの入力をエコーバックする 
 140               	******************************
 141               	LOOP:
 142 008c 7001      	move.l #SYSCALL_NUM_GETSTRING, %D0
 143 008e 7200      	move.l #0, %D1 | ch = 0
 144 0090 243C 0000 	move.l #BUF, %D2 | p = #BUF
 144      0000 
 145 0096 263C 0000 	move.l #256, %D3 | size = 256
 145      0100 
 146 009c 4E40      	trap #0
 147 009e 2600      	move.l %D0, %D3 | size = %D0 (length of given string)
 148 00a0 7002      	move.l #SYSCALL_NUM_PUTSTRING, %D0
 149 00a2 7200      	move.l #0, %D1 | ch = 0


 150 00a4 243C 0000 	move.l #BUF,%D2 | p = #BUF
 150      0000 
 151 00aa 4E40      	trap #0
 152 00ac 6000 FFDE 	bra LOOP
 153               	******************************
 154               	* タイマのテスト
 155               	* ’******’ を表示し改行する． * ５回実行すると，RESET_TIMER をする． 
 156               	******************************
 157               	TT:
 158 00b0 48E7 FFFE 	movem.l %D0-%D7/%A0-%A6,-(%SP)
 159 00b4 0C79 0005 	cmpi.w #5,TTC | TTC カウンタで 5 回実行したかどうか数える
 159      0000 0000 
 160 00bc 6700 001C 	beq TTKILL | 5 回実行したら，タイマを止める
 161 00c0 7002      	move.l #SYSCALL_NUM_PUTSTRING,%D0
 162 00c2 7200      	move.l #0, %D1 | ch = 0
 163 00c4 243C 0000 	move.l #TMSG, %D2 | p = #TMSG
 163      0000 
 164 00ca 7608      	move.l #8, %D3 | size = 8
 165 00cc 4E40      	trap #0
 166 00ce 0679 0001 	addi.w #1,TTC | TTC カウンタを 1 つ増やして
 166      0000 0000 
 167 00d6 6000 0006 	bra TTEND | そのまま戻る
 168               	TTKILL:
 169 00da 7003      	move.l #SYSCALL_NUM_RESET_TIMER,%D0
 170 00dc 4E40      	trap #0
 171               	TTEND:
 172 00de 4CDF 7FFF 	movem.l (%SP)+,%D0-%D7/%A0-%A6
 173 00e2 4E75      	rts
 174               	****************************************************************
 175               	*** 初期値のあるデータ領域 
 176               	****************************************************************
 177               	.section .data
 178               	TMSG:
 179 0000 2A2A 2A2A 	.ascii "******\r\n" | \r: 行頭へ (キャリッジリターン)
 179      2A2A 0D0A 
 180               	.even | \n: 次の行へ (ラインフィード)
 181               	TTC:
 182 0008 0000      	.dc.w 0
 183               	.even
 184               	****************************************************************
 185               	*** 初期値の無いデータ領域 
 186               	****************************************************************
 187               	.section .bss
 188               	BUF:
 189 4004 0000 0000 	.ds.b 256 | BUF[256]
 189      0000 0000 
 189      0000 0000 
 189      0000 0000 
 189      0000 0000 
 190               	.even
 191               	USR_STK:
 192 4104 0000 0000 	.ds.b 0x4000 | ユーザスタック領域 .even
 192      0000 0000 
 192      0000 0000 
 192      0000 0000 
 192      0000 0000 
 193               	USR_STK_TOP: | ユーザスタック領域の最後尾


 194               	
 195               	**********************************************************
 196               	**送受信割り込み用のHW割り込みインターフェース 鵜飼
 197               	**********************************************************
 198               	.section .text
 199               	.even
 200               	check_send_interrupt:					| UART1割り込みハンドラの入口
 201 00e4 48E7 F0C0 		movem.l	%d0-%d3/%a0-%a1,-(%SP) 	| 使用レジスタをスタックへ退避
 202               	
 203 00e8 3039 00FF 		move.w 	UTX1, %d0			| 送信ステータスを取得
 203      F906 
 204 00ee 0280 0000 		andi.l	#0x00008000, %d0		| 送信完了フラグのみを抽出
 204      8000 
 205 00f4 0C80 0000 		cmpi.l	#0x00008000, %d0		| 送信完了かを判定
 205      8000 
 206 00fa 6600 0008 		bne	check_receive_interrupt		| 送信完了でなければ受信処理へ
 207               	
 208 00fe 7200      		moveq	#0, %d1			| チャネル0を指定
 209 0100 4EBA 0026 		jsr	INTERPUT			| 送信割り込み処理へ
 210               	
 211               	check_receive_interrupt:				| 受信割り込みのチェック
 212 0104 3639 00FF 		move.w URX1, %d3			| 受信ステータスとデータを取得
 212      F904 
 213 010a 1403      		move.b %d3, %d2			| 受信データ本体を抽出
 214 010c 0283 0000 		andi.l #0x00002000, %d3		| 受信完了フラグのみを抽出
 214      2000 
 215 0112 0C83 0000 		cmpi.l #0x00002000, %d3		| 受信完了かを判定
 215      2000 
 216 0118 6600 0008 		bne	finish_check_interrupt		| 受信完了でなければ終了
 217               	
 218 011c 7200      		moveq	#0, %d1			| チャネル0を指定
 219 011e 4EBA 00D8 		jsr	INTERGET			| 受信割り込み処理へ
 220               	
 221               	finish_check_interrupt:				| 割り込み処理終了
 222 0122 4CDF 030F 		movem.l	(%SP)+, %d0-%d3/%a0-%a1	| 退避していたレジスタを復帰
 223 0126 4E73      		rte 					| 割り込みから復帰
 224               	
 225               	**********************************************************
 226               	**INTERPUT 札場
 227               	**********************************************************
 228               	INTERPUT:					| 送信割り込み処理本体
 229 0128 40E7      		move.w %SR,-(%sp)			| ステータスレジスタを退避
 230 012a 48E7 C000 		movem.l %d0-%d1,-(%sp)			| 使用するデータレジスタを退避
 231 012e 46FC 2700 		move.w #0x2700,%SR			| 割り込みを禁止してクリティカル区間へ
 232               	
 233 0132 0C81 0000 		cmpi.l #0,%d1				| サポートしているチャネルか判定
 233      0000 
 234 0138 6600 002E 		bne END_INTERPUT			| 0以外なら何もせず終了
 235               	
 236 013c 7001      		moveq	#1,%d0				| 送信用キュー番号1を指定
 237 013e 4EBA 023A 		jsr OUTQ				| キューから1バイト取得
 238 0142 0C80 0000 		cmpi.l #0,%d0				| 取得成功か判定
 238      0000 
 239 0148 6700 0016 		beq FAIL_INTERPUT			| 失敗ならUART制御レジスタをリセット
 240               	
 241 014c 0281 0000 		andi.l #0x000000ff,%d1			| 送信データを1バイトに制限
 241      00FF 


 242 0152 0641 0800 		addi.w #0x0800,%d1			| 送信フラグを付与
 243 0156 33C1 00FF 		move.w %d1,UTX1				| UARTへデータ書き込み
 243      F906 
 244 015c 6000 000A 		bra END_INTERPUT			| 正常終了へ
 245               	
 246               	FAIL_INTERPUT:					| キューが空だった場合
 247 0160 33FC E108 		move.w #0xE108,USTCNT1			| 送信割り込みを停止
 247      00FF F900 
 248               	
 249               	END_INTERPUT:					| 後始末
 250 0168 4CDF 0003 		movem.l (%sp)+,%d0-%d1			| データレジスタを復帰
 251 016c 46DF      		move.w (%sp)+,%SR			| ステータスレジスタを復帰
 252 016e 4E75      		rts					| 送信割り込み処理終了
 253               	
 254               	**********************************************************
 255               	**PUTSTRING 札場
 256               	**********************************************************
 257               	PUTSTRING:					| 文字列送信用システムコール本体
 258 0170 48E7 78C0 		movem.l %d1-%d4/%a0-%a1,-(%SP)	| 使用レジスタを退避
 259 0174 0C81 0000 		cmpi.l #0,%d1				| チャネル番号を確認
 259      0000 
 260 017a 6600 003E 		bne END_PUTSTRING			| サポート外なら何もせず戻る
 261               	
 262 017e 7800      		moveq	#0,%d4				| 送信済みバイト数を初期化
 263 0180 2242      		movea.l %d2,%a1			| 送信元アドレスをセット
 264               	
 265 0182 0C83 0000 		cmpi.l #0,%d3				| 送信サイズが0か確認
 265      0000 
 266 0188 6700 002E 		beq	SEND_SZ				| 0なら即座に戻り値だけ返す
 267               	
 268               	loop_put_string:					| 送信キューへ書き込むループ
 269 018c B883      		cmp.l %d3,%d4				| 送信済みが目標サイズに達したか
 270 018e 6700 0020 		beq ALLOW_SEND				| 全て書けたら送信許可へ
 271               	
 272 0192 7001      		moveq #1,%d0				| 送信用キュー番号1
 273 0194 1211      		move.b (%a1),%d1			| バッファから1バイト読み出し
 274 0196 4EBA 017A 		jsr INQ					| キューへ格納
 275 019a 0C80 0000 		cmpi.l #0,%d0				| 書き込み成功したか確認
 275      0000 
 276 01a0 6700 000E 		beq ALLOW_SEND				| 失敗したらUART送信を開始させる
 277               	
 278 01a4 5284      		addq.l #1,%d4				| カウンタをインクリメント
 279 01a6 D3FC 0000 		adda.l #1,%a1				| 次の文字へポインタ更新
 279      0001 
 280 01ac 6000 FFDE 		bra loop_put_string			| 引き続きキューへ投入
 281               	
 282               	ALLOW_SEND:					| UART送信を許可
 283 01b0 33FC E10C 		move.w #0xE10C,USTCNT1			| 送信割り込みを有効化
 283      00FF F900 
 284               	
 285               	SEND_SZ:					| 戻り値準備
 286 01b8 2004      		move.l %d4,%d0				| 実際にキューへ送れたサイズを返す
 287               	
 288               	END_PUTSTRING:
 289 01ba 4CDF 031E 		movem.l (%SP)+,%d1-%d4/%a0-%a1	| レジスタ復帰
 290 01be 4E75      		rts					| システムコール復帰
 291               	


 292               	**********************************************************
 293               	**GETSTRING 平野
 294               	**********************************************************
 295               	GETSTRING:
 296               		/* 入力：チャネル d1、コピー先アドレス d2、個数 d3 */
 297               		/* 出力：取り出したデータ個数 d0*/
 298               	
 299 01c0 48E7 0FFE 		movem.l	%d4-%d7/%a0-%a6, -(%sp)	| 作業レジスタとアドレスレジスタを退避
 300 01c4 0C81 0000 		cmpi.l	#0, %d1			| 対応チャネルか確認
 300      0000 
 301 01ca 6600 0024 		bne	finish_get_string		| 0以外なら何もせず終了
 302               	
 303 01ce 7800      		moveq	#0, %d4			| 受信済みサイズを初期化
 304 01d0 2242      		movea.l	%d2, %a1			| コピー先ポインタを設定
 305               		
 306               	loop_get_string:					| 受信データ取り出しループ
 307 01d2 B883      		cmp.l	%d3,%d4			| 指定サイズに達したか確認
 308 01d4 6700 001A 		beq	finish_get_string		| 目標まで受信済みなら終了	
 309               	
 310 01d8 7000      		moveq	#0, %d0			| 受信用キュー番号0
 311 01da 4EBA 019E 		jsr	OUTQ 				| キューから1バイト取り出す
 312               	
 313 01de 0C80 0000 		cmpi.l	#0, %d0			| 取り出し成功したか判定
 313      0000 
 314 01e4 6700 000A 		beq	finish_get_string		| 失敗ならそのまま終了	
 315               	
 316 01e8 12C1      		move.b	%d1, (%a1)+			| 取得したデータをバッファへ格納
 317               		
 318 01ea 5284      		addq.l	#1, %d4			| 受信済みサイズを更新
 319 01ec 6000 FFE4 		bra	loop_get_string		| 必要な数だけ繰り返す
 320               		
 321               	finish_get_string:				| 受信処理終了
 322 01f0 2004      		move.l	%d4, %d0 			| 実際に受け取れたサイズを返す
 323 01f2 4CDF 7FF0 		movem.l	(%sp)+, %d4-%d7/%a0-%a6	| 退避していたレジスタを復帰
 324 01f6 4E75      		rts					| システムコール復帰
 325               	
 326               	**********************************************************
 327               	**INTERGET 平野
 328               	**********************************************************
 329               	INTERGET:					| 受信割り込み処理本体
 330 01f8 48E7 E0C0 		movem.l	%d0-%d2/%a0-%a1, -(%sp)	| 使用レジスタを退避
 331               	
 332 01fc 0C81 0000 		cmpi.l	#0, %d1			| チャネルが0か確認
 332      0000 
 333 0202 6600 000A 		bne	finish_inter_get		| 0以外なら処理不要
 334 0206 7000      		moveq	#0, %d0			| 受信用キュー番号0
 335 0208 1202      		move.b	%d2, %d1			| 受信データをd1へ
 336 020a 4EBA 0106 		jsr	INQ				| キューへデータを格納
 337               	
 338               	finish_inter_get:
 339 020e 4CDF 0307 		movem.l	(%sp)+, %d0-%d2/%a0-%a1	| レジスタを復帰	
 340 0212 4E75      		rts					| 受信割り込み処理終了
 341               	
 342               	********************************************************************
 343               	**タイマ割り込みに関するハードウェア割り込みインターフェース 平川, 
 344               	********************************************************************
 345               	check_timer_interrupt:				| タイマ割り込みハンドラ入口


 346 0214 48E7 8080 		movem.l %d0/%a0, -(%SP)		| 使用レジスタを退避
 347               	
 348 0218 3039 00FF 		move.w TSTAT1, %d0			| タイマステータスを読み出し
 348      F60A 
 349 021e 0280 0000 		andi.l #0x00000001, %d0		| 割り込み発生ビットのみ抽出
 349      0001 
 350 0224 6700 000E 		beq finish_timer_interrupt		| 発生していなければ終了
 351               	
 352 0228 33FC 0000 		move.w #0x0000, TSTAT1		| 割り込みフラグをクリア
 352      00FF F60A 
 353 0230 4EBA 0030 		jsr CALL_RP				| 登録タスクをコール
 354               	
 355               	finish_timer_interrupt:				| タイマ割り込みの終了処理
 356 0234 4CDF 0101 		movem.l (%SP)+, %d0/%a0		| レジスタを復帰
 357 0238 4E73      		rte					| 割り込みから復帰
 358               	
 359               	**********************************************************
 360               	**タイマ制御ルーチン 松下
 361               	**********************************************************
 362               	RESET_TIMER:					| タイマ停止とリセット
 363 023a 33FC 0004 	        move.w #0x0004, TCTL1		| カウンタ停止＆リスタート設定
 363      00FF F600 
 364 0242 4E75      		rts					| 呼び出し元へ戻る
 365               	
 366               	SET_TIMER:					| タイマ設定システムコール
 367 0244 23C2 0000 	        move.l %d2, task_p			| コールバックアドレスを保存
 367      0000 
 368 024a 33FC 00CE 		move.w #206, TPRER1			| プリスケーラ設定
 368      00FF F602 
 369 0252 33C1 00FF 		move.w %d1, TCMP1			| コンペア値を設定
 369      F604 
 370 0258 33FC 0015 		move.w #0x0015, TCTL1		| タイマをスタート
 370      00FF F600 
 371 0260 4E75      		rts					| 呼び出し元へ戻る
 372               	
 373               	CALL_RP:					| 登録タスク呼び出し
 374 0262 48E7 0080 		movem.l %a0, -(%sp)		| アドレスレジスタを退避
 375 0266 2079 0000 		movea.l task_p, %a0			| 登録されているタスクをロード
 375      0000 
 376 026c 4E90      		jsr    (%a0)				| タスクを実行
 377 026e 4CDF 0100 		movem.l (%sp)+, %a0		| レジスタを復帰
 378 0272 4E75      		rts					| 呼び出し元へ戻る
 379               	
 380               	*********************************************************
 381               	**システムコールインターフェース 平川
 382               	*********************************************************
 383               	systemcall_if:					| trap #0 によるシステムコール入口
 384 0274 48E7 7FFE 		movem.l %D1-%D7/%A0-%A6, -(%sp)	| 破壊する汎用レジスタを保存
 385               	
 386 0278 0C80 0000 		cmpi.l #SYSCALL_NUM_GETSTRING, %D0	| システムコール番号判定
 386      0001 
 387 027e 6700 0024 		beq CALL_GETSTRING
 388 0282 0C80 0000 		cmpi.l #SYSCALL_NUM_PUTSTRING, %D0
 388      0002 
 389 0288 6700 0022 		beq CALL_PUTSTRING
 390 028c 0C80 0000 		cmpi.l #SYSCALL_NUM_RESET_TIMER, %D0
 390      0003 


 391 0292 6700 0020 		beq CALL_RESET_TIMER
 392 0296 0C80 0000 		cmpi.l #SYSCALL_NUM_SET_TIMER, %D0
 392      0004 
 393 029c 6700 001E 		beq CALL_SET_TIMER
 394 02a0 6000 0022 		bra sys_EXIT				| 未定義番号はそのまま戻る
 395               	
 396               	CALL_GETSTRING:				| GETSTRING呼び出し
 397 02a4 4EBA FF1A 		jsr GETSTRING
 398 02a8 6000 001A 		bra sys_EXIT
 399               	
 400               	CALL_PUTSTRING:				| PUTSTRING呼び出し
 401 02ac 4EBA FEC2 		jsr PUTSTRING
 402 02b0 6000 0012 		bra sys_EXIT
 403               	
 404               	CALL_RESET_TIMER:				| RESET_TIMER呼び出し
 405 02b4 4EBA FF84 		jsr RESET_TIMER
 406 02b8 6000 000A 		bra sys_EXIT
 407               	
 408               	CALL_SET_TIMER:				| SET_TIMER呼び出し
 409 02bc 4EBA FF86 		jsr SET_TIMER
 410 02c0 6000 0002 		bra sys_EXIT
 411               	
 412               	sys_EXIT:					| システムコール共通出口
 413 02c4 4CDF 7FFE 		movem.l (%sp)+, %D1-%D7/%A0-%A6	| レジスタを復帰
 414 02c8 4E73      		rte					| トラップから復帰
 415               		
 416               	*********************************************************
 417               	**キュー 札場, 平野
 418               	*********************************************************
 419               	Q_INIT:	/*構造体とバッファの初期化サブルーチン*/
 420 02ca 48E7 80C0 		movem.l %d0/%a0-%a1, -(%a7) /*レジスタの退避*/
 421               	
 422 02ce 43F9 0000 		lea.l   QST_TABLE, %a1          /* QST[0] のアドレス*/
 422      0000 
 423 02d4 41F9 0000 		lea.l   Q_0, %a0         /* BUFFER_0 のアドレス*/
 423      0000 
 424 02da 4EBA 0018 		jsr     INIT_SINGLE_Q           /*1キュー分を初期化*/
 425               	
 426 02de 43F9 0000 		lea.l   QST_TABLE+(QST_SIZE*1), %a1 /*QST[1]の初期化 */
 426      0000 
 427 02e4 41F9 0000 		lea.l   Q_1, %a0
 427      0000 
 428 02ea 4EBA 0008 		jsr     INIT_SINGLE_Q
 429               	    
 430 02ee 4CDF 0301 		movem.l (%a7)+, %d0/%a0-%a1 /*レジスタの復帰*/
 431 02f2 4E75      		rts
 432               	
 433               		
 434               	INIT_SINGLE_Q:
 435 02f4 2348 0000 		move.l  %a0, in(%a1)     /*ポインタの初期化*/
 436 02f8 2348 0004 		move.l  %a0, out(%a1)     
 437 02fc 2348 0008 		move.l  %a0, top(%a1)    /*topをa0へ*/
 438               	    
 439 0300 D1FC 0000 		add.l   #B_SIZE-1, %a0
 439      00FF 
 440 0306 2348 000C 		move.l  %a0, bottom(%a1)      /*bottomをa0へ*/
 441               	


 442 030a 337C 0000 		move.w  #0,s(%a1) /*sを0へ*/
 442      0010 
 443               	     
 444 0310 4E75      		rts
 445               	
 446               	INQ:/*キュー#noにp番地のデータを入れるサブルーチン*/
 447 0312 40E7      		move.w %SR,-(%a7)				| ステータスレジスタを退避
 448 0314 48E7 20E0 		movem.l %d2/%a0-%a2, -(%a7) /*レジスタの退避*/
 449 0318 46FC 2700 		move.w #0x2700,%SR				| 割り込み禁止で排他制御
 450 031c 43F9 0000 		lea.l   QST_TABLE, %a1 /*キューの選択*/
 450      0000 
 451 0322 343C 0014 		move.w  #QST_SIZE, %d2			| 構造体サイズをロード
 452 0326 C4C0      		mulu.w  %d0, %d2				| キュー番号ぶんオフセット計算
 453 0328 D3C2      		add.l   %d2, %a1				| 対象キューの管理構造体を指す
 454 032a 1001      		move.b  %d1, %d0				| データを下位8bitへ
 455 032c 4EBA 000A 		jsr     PUT_BUF				| バッファ書き込み処理へ
 456 0330 4CDF 0704 		movem.l (%a7)+, %d2/%a0-%a2 /*レジスタの復帰*/
 457 0334 46DF      		move.w (%a7)+,%SR				| ステータスレジスタを復帰
 458 0336 4E75      		rts						| 呼び出し元へ戻る
 459               	
 460               	PUT_BUF: /*キューへのデータ書き込みをするサブルーチン*/
 461 0338 48E7 40A0 		movem.l %d1/%a0/%a2, -(%a7) /*レジスタの退避*/
 462               	
 463 033c 0C69 0100 		cmp.w   #0x0100, s(%a1) /*空き容量の確認*/
 463      0010 
 464 0342 6700 002C 		beq	PUT_FAIL
 465               	
 466 0346 2069 0000 		move.l  in(%a1), %a0 /*データの書き込み*/
 467 034a 1080      		move.b  %d0, (%a0)
 468 034c 2469 000C 		move.l  bottom(%a1), %a2		| バッファ末尾アドレスを取得
 469 0350 B1CA      		cmp.l   %a2, %a0 /*キューの端か*/
 470 0352 6600 000A 		bne     PUT_CAN
 471 0356 2069 0008 		move.l  top(%a1), %a0			| 末尾に到達したので先頭へ折り返し
 472 035a 6000 0004 		bra	PUT_UPDATE_PTR			| ポインタ更新処理へ
 473               	PUT_CAN:
 474 035e 5288      		addq.l  #1, %a0				| 次のアドレスへ進める
 475               	PUT_UPDATE_PTR:
 476 0360 2348 0000 		move.l  %a0, in(%a1)			| inポインタを更新
 477               	PUT_SET_GET_FLG:
 478 0364 5269 0010 		addq.w  #1, s(%a1) /*読み出し許可*/
 479 0368 303C 0001 		move.w  #1, %d0
 480 036c 6000 0006 		bra     PUT_DONE
 481               	PUT_FAIL:
 482 0370 303C 0000 		move.w  #0, %d0
 483               	PUT_DONE:
 484 0374 4CDF 0502 		movem.l (%a7)+, %d1/%a0/%a2 /*レジスタの復帰*/
 485 0378 4E75      		rts
 486               	
 487               	OUTQ: /*キュー#noからデータを一つ取り出し，p番地にcopyするサブルーチン*/
 488 037a 40E7      		move.w %SR,-(%a7)				| ステータスレジスタを退避
 489 037c 48E7 20E0 		movem.l %d2/%a0-%a2, -(%a7) /*レジスタの退避*/
 490 0380 46FC 2700 		move.w #0x2700,%SR				| 割り込み禁止で排他制御
 491 0384 43F9 0000 		lea.l   QST_TABLE, %a1 /*キューの選択*/
 491      0000 
 492 038a 343C 0014 		move.w  #QST_SIZE, %d2			| 構造体のサイズをロード
 493 038e C4C0      		mulu.w  %d0, %d2				| キュー番号分だけ先へ進める
 494 0390 D3C2      		add.l   %d2, %a1				| 対象キュー構造体へ


 495 0392 4EBA 000A 		jsr     GET_BUF				| データ取り出し処理へ
 496               		
 497 0396 4CDF 0704 		movem.l (%a7)+, %d2/%a0-%a2 /*レジスタの復帰*/
 498 039a 46DF      		move.w (%a7)+,%SR				| ステータスレジスタ復帰
 499 039c 4E75      		rts						| 呼び出し元へ戻る
 500               	
 501               	GET_BUF: /*キューからのデータ読み出しをするサブルーチン*/
 502 039e 48E7 00A0 		movem.l %a0/%a2, -(%a7) /*レジスタの退避*/
 503 03a2 0C69 0000 		cmp.w   #0x00, s(%a1) /*容量の確認*/
 503      0010 
 504 03a8 6700 002C 		beq     GET_FAIL
 505 03ac 2069 0004 		move.l  out(%a1), %a0 /*データの読み出し*/
 506 03b0 1210      		move.b  (%a0), %d1
 507               		
 508 03b2 2469 000C 		move.l  bottom(%a1), %a2 /*ポインタの更新*/
 509 03b6 B1CA      		cmp.l   %a2, %a0 /*キューの端か*/
 510 03b8 6600 000A 		bne     GET_CAN
 511 03bc 2069 0008 		move.l  top(%a1), %a0			| 末尾に達したので先頭へ戻す
 512 03c0 6000 0004 		bra     GET_UPDATE_PTR			| ポインタ更新処理へ
 513               	GET_CAN:
 514 03c4 5288      		addq.l  #1, %a0				| 次のアドレスを指す	
 515               	GET_UPDATE_PTR:
 516 03c6 2348 0004 		move.l  %a0, out(%a1)			| outポインタを更新
 517               	GET_SET_PUT_FLG:
 518 03ca 5369 0010 		subq.w  #1, s(%a1) /*書き込み許可*/
 519 03ce 303C 0001 		move.w  #1, %d0				| 読み出し成功を知らせる
 520 03d2 6000 0006 		bra     GET_DONE
 521               	GET_FAIL:
 522 03d6 303C 0000 		move.w  #0, %d0				| 読み出し失敗を通知
 523               	    
 524               	GET_DONE:
 525 03da 4CDF 0500 		movem.l (%a7)+, %a0/%a2 /*レジスタの復帰*/
 526 03de 4E75      		rts					| 呼び出し元へ戻る
 527               		
 528               	
 529               		
 530               	.section .data
 531               		.equ B_SIZE,256
 532               	
 533               		.equ    in, 0    /*次に書き込むアドレス*/
 534               		.equ    out, 4    /*次に読み出すアドレス*/
 535               		.equ    top, 8   /*バッファの先頭アドレス*/
 536               		.equ    bottom, 12    /*バッファの末尾アドレス*/
 537               		.equ    s, 16  
 538               	
 539               		.equ    QST_SIZE, 20   /* キュー管理構造体1つあたりのサイズ */
 540               	QST_TABLE:
 541 000a 0000 0000 	    .ds.b   QST_SIZE * 2 /*構造体2つ分のメモリ確保*/
 541      0000 0000 
 541      0000 0000 
 541      0000 0000 
 541      0000 0000 
 542               	
 543               	/* 各キューのバッファを2つ確保 */
 544               	Q_0:
 545 0032 0000 0000 		.ds.b   B_SIZE
 545      0000 0000 


 545      0000 0000 
 545      0000 0000 
 545      0000 0000 
 546               	Q_1:
 547 0132 0000 0000 		.ds.b   B_SIZE
 547      0000 0000 
 547      0000 0000 
 547      0000 0000 
 547      0000 0000 
 548               		
 549               		.end	




   1               	.global inbyte
   2               	
   3               	.equ SYSCALL_NUM_GETSTRING, 1
   4               	
   5               	.text
   6               	.even
   7               	
   8               	inbyte:
   9               		| Use GETSTRING to read one byte from channel 0.
  10 0000 48E7 3080 		movem.l %d2-%d3/%a0,-(%sp)	| preserve callee-saved registers we touch
  11               	
  12               	inbyte_retry:
  13 0004 7001      		move.l #SYSCALL_NUM_GETSTRING,%d0	| system call number
  14 0006 7200      		moveq	#0,%d1			| channel 0
  15 0008 41F9 0000 		lea	inbyte_buf,%a0		| 1-byte buffer
  15      0000 
  16 000e 2408      		move.l %a0,%d2			| destination buffer address
  17 0010 7601      		moveq	#1,%d3			| request size = 1 byte
  18 0012 4E40      		trap	#0
  19 0014 4A80      		tst.l	%d0			| did we get a byte?
  20 0016 6700 FFEC 		beq	inbyte_retry		| retry until one byte received
  21               	
  22 001a 7000      		moveq	#0,%d0			| clear upper bits
  23 001c 1039 0000 		move.b	inbyte_buf,%d0		| load received byte
  23      0000 
  24               	
  25 0022 4CDF 010C 		movem.l (%sp)+,%d2-%d3/%a0	| restore registers
  26 0026 4E75      		rts
  27               	
  28               	.section .bss
  29               	.even
  30               	inbyte_buf:
  31 0000 00        		.ds.b 1				| single byte input buffer
  32 0001 00        	.even




   1               	.global outbyte
   2               	
   3               	.equ SYSCALL_NUM_PUTSTRING, 2
   4               	
   5               	.text
   6               	.even
   7               	
   8               	outbyte:
   9 0000 202F 0004 		move.l 4(%sp),%d0		| fetch argument (pushed as long)
  10 0004 0280 0000 		andi.l #0xff,%d0		| keep lower 8 bits
  10      00FF 
  11               	
  12 000a 48E7 3080 		movem.l %d2-%d3/%a0,-(%sp)	| preserve callee-saved registers
  13 000e 41F9 0000 		lea	outbyte_buf,%a0
  13      0000 
  14 0014 1080      		move.b %d0,(%a0)		| store byte into buffer
  15               	
  16               	outbyte_retry:
  17 0016 7002      		move.l #SYSCALL_NUM_PUTSTRING,%d0 | system call number
  18 0018 7200      		moveq	#0,%d1			| channel 0
  19 001a 2408      		move.l %a0,%d2			| source address
  20 001c 7601      		moveq	#1,%d3			| send 1 byte
  21 001e 4E40      		trap	#0
  22 0020 0C80 0000 		cmpi.l #1,%d0			| did we queue the byte?
  22      0001 
  23 0026 6600 FFEE 		bne	outbyte_retry		| retry until success
  24               	
  25 002a 4CDF 010C 		movem.l (%sp)+,%d2-%d3/%a0	| restore registers
  26 002e 4E75      		rts
  27               	
  28               	.section .bss
  29               	.even
  30               	outbyte_buf:
  31 0000 00        		.ds.b 1				| single byte output buffer
  32 0001 00        	.even




   1               	#NO_APP
   2               		.file	"csys68k.c"
   3               		.text
   4               	.Ltext0:
   5               		.cfi_sections	.debug_frame
   6               		.align	2
   7               		.globl	read
   8               		.type	read, @function
   9               	read:
  10               	.LVL0:
  11               	.LFB0:
  12               		.file 1 "csys68k.c"
   1:csys68k.c     **** extern void outbyte(unsigned char c);
   2:csys68k.c     **** extern char inbyte();
   3:csys68k.c     **** 
   4:csys68k.c     **** int read(int fd, char *buf, int nbytes)
   5:csys68k.c     **** {
  13               		.loc 1 5 1 view -0
  14               		.cfi_startproc
  15               		.loc 1 5 1 is_stmt 0 view .LVU1
  16 0000 48E7 3838 		movem.l #14392,-(%sp)
  17               		.cfi_def_cfa_offset 28
  18               		.cfi_offset 2, -28
  19               		.cfi_offset 3, -24
  20               		.cfi_offset 4, -20
  21               		.cfi_offset 10, -16
  22               		.cfi_offset 11, -12
  23               		.cfi_offset 12, -8
  24 0004 286F 0020 		move.l 32(%sp),%a4
  25 0008 282F 0024 		move.l 36(%sp),%d4
   6:csys68k.c     ****   char c;
  26               		.loc 1 6 3 is_stmt 1 view .LVU2
   7:csys68k.c     ****   int  i;
  27               		.loc 1 7 3 view .LVU3
   8:csys68k.c     **** 
   9:csys68k.c     ****   for (i = 0; i < nbytes; i++) {
  28               		.loc 1 9 3 view .LVU4
  29               	.LVL1:
  30               		.loc 1 9 17 view .LVU5
  31               		.loc 1 9 10 is_stmt 0 view .LVU6
  32 000c 7600      		moveq #0,%d3
  33               		.loc 1 9 17 view .LVU7
  34 000e 4A84      		tst.l %d4
  35 0010 6F36      		jle .L1
  36 0012 47F9 0000 		lea inbyte,%a3
  36      0000 
  37 0018 45F9 0000 		lea outbyte,%a2
  37      0000 
  38               	.LVL2:
  39               	.L8:
  10:csys68k.c     ****     c = inbyte();
  40               		.loc 1 10 5 is_stmt 1 view .LVU8
  41               		.loc 1 10 9 is_stmt 0 view .LVU9
  42 001e 4E93      		jsr (%a3)
  43               	.LVL3:
  44 0020 1400      		move.b %d0,%d2
  45               	.LVL4:


  11:csys68k.c     **** 
  12:csys68k.c     ****     if (c == '\r' || c == '\n'){ /* CR -> CRLF */
  46               		.loc 1 12 5 is_stmt 1 view .LVU10
  47               		.loc 1 12 8 is_stmt 0 view .LVU11
  48 0022 0C00 000D 		cmp.b #13,%d0
  49 0026 6728      		jeq .L3
  50               		.loc 1 12 19 discriminator 1 view .LVU12
  51 0028 0C00 000A 		cmp.b #10,%d0
  52 002c 6722      		jeq .L3
  13:csys68k.c     ****       outbyte('\r');
  14:csys68k.c     ****       outbyte('\n');
  15:csys68k.c     ****       *(buf + i) = '\n';
  16:csys68k.c     **** 
  17:csys68k.c     ****     /* } else if (c == '\x8'){ */     /* backspace \x8 */
  18:csys68k.c     ****     } else if (c == '\x7f'){      /* backspace \x8 -> \x7f (by terminal config.) */
  53               		.loc 1 18 12 is_stmt 1 view .LVU13
  54               		.loc 1 18 15 is_stmt 0 view .LVU14
  55 002e 0C00 007F 		cmp.b #127,%d0
  56 0032 673A      		jeq .L18
  19:csys68k.c     ****       if (i > 0){
  20:csys68k.c     **** 	outbyte('\x8'); /* bs  */
  21:csys68k.c     **** 	outbyte(' ');   /* spc */
  22:csys68k.c     **** 	outbyte('\x8'); /* bs  */
  23:csys68k.c     **** 	i--;
  24:csys68k.c     ****       }
  25:csys68k.c     ****       i--;
  26:csys68k.c     ****       continue;
  27:csys68k.c     **** 
  28:csys68k.c     ****     } else {
  29:csys68k.c     ****       outbyte(c);
  57               		.loc 1 29 7 is_stmt 1 view .LVU15
  58 0034 7000      		moveq #0,%d0
  59               	.LVL5:
  60               		.loc 1 29 7 is_stmt 0 view .LVU16
  61 0036 1002      		move.b %d2,%d0
  62 0038 2F00      		move.l %d0,-(%sp)
  63               		.cfi_def_cfa_offset 32
  64 003a 4E92      		jsr (%a2)
  65               	.LVL6:
  30:csys68k.c     ****       *(buf + i) = c;
  66               		.loc 1 30 7 is_stmt 1 view .LVU17
  67               		.loc 1 30 18 is_stmt 0 view .LVU18
  68 003c 1982 3800 		move.b %d2,(%a4,%d3.l)
  31:csys68k.c     ****     }
  32:csys68k.c     **** 
  33:csys68k.c     ****     if (*(buf + i) == '\n'){
  69               		.loc 1 33 5 is_stmt 1 view .LVU19
  34:csys68k.c     ****       return (i + 1);
  70               		.loc 1 34 17 is_stmt 0 view .LVU20
  71 0040 5283      		addq.l #1,%d3
  72               	.LVL7:
  73               		.loc 1 34 17 view .LVU21
  74 0042 588F      		addq.l #4,%sp
  75               		.cfi_def_cfa_offset 28
  76               	.LVL8:
   9:csys68k.c     ****     c = inbyte();
  77               		.loc 1 9 28 is_stmt 1 view .LVU22


   9:csys68k.c     ****     c = inbyte();
  78               		.loc 1 9 17 view .LVU23
  79 0044 B684      		cmp.l %d4,%d3
  80 0046 6DD6      		jlt .L8
  81               	.LVL9:
  82               	.L1:
  35:csys68k.c     ****     }
  36:csys68k.c     ****   }
  37:csys68k.c     ****   return (i);
  38:csys68k.c     **** }
  83               		.loc 1 38 1 is_stmt 0 view .LVU24
  84 0048 2003      		move.l %d3,%d0
  85 004a 4CDF 1C1C 		movem.l (%sp)+,#7196
  86 004e 4E75      		rts
  87               	.LVL10:
  88               	.L3:
  13:csys68k.c     ****       outbyte('\n');
  89               		.loc 1 13 7 is_stmt 1 view .LVU25
  90 0050 4878 000D 		pea 13.w
  91               		.cfi_def_cfa_offset 32
  92 0054 4E92      		jsr (%a2)
  93               	.LVL11:
  14:csys68k.c     ****       *(buf + i) = '\n';
  94               		.loc 1 14 7 view .LVU26
  95 0056 4878 000A 		pea 10.w
  96               		.cfi_def_cfa_offset 36
  97 005a 4E92      		jsr (%a2)
  98               	.LVL12:
  15:csys68k.c     **** 
  99               		.loc 1 15 7 view .LVU27
  15:csys68k.c     **** 
 100               		.loc 1 15 18 is_stmt 0 view .LVU28
 101 005c 19BC 000A 		move.b #10,(%a4,%d3.l)
 101      3800 
  33:csys68k.c     ****       return (i + 1);
 102               		.loc 1 33 5 is_stmt 1 view .LVU29
  34:csys68k.c     ****     }
 103               		.loc 1 34 7 view .LVU30
  34:csys68k.c     ****     }
 104               		.loc 1 34 17 is_stmt 0 view .LVU31
 105 0062 5283      		addq.l #1,%d3
 106               	.LVL13:
  34:csys68k.c     ****     }
 107               		.loc 1 34 17 view .LVU32
 108 0064 508F      		addq.l #8,%sp
 109               		.cfi_def_cfa_offset 28
 110               		.loc 1 38 1 view .LVU33
 111 0066 2003      		move.l %d3,%d0
 112 0068 4CDF 1C1C 		movem.l (%sp)+,#7196
 113               	.LVL14:
 114               		.loc 1 38 1 view .LVU34
 115 006c 4E75      		rts
 116               	.LVL15:
 117               	.L18:
  19:csys68k.c     **** 	outbyte('\x8'); /* bs  */
 118               		.loc 1 19 7 is_stmt 1 view .LVU35
  19:csys68k.c     **** 	outbyte('\x8'); /* bs  */


 119               		.loc 1 19 10 is_stmt 0 view .LVU36
 120 006e 4A83      		tst.l %d3
 121 0070 67AC      		jeq .L8
  23:csys68k.c     ****       }
 122               		.loc 1 23 3 view .LVU37
 123 0072 5383      		subq.l #1,%d3
 124               	.LVL16:
  20:csys68k.c     **** 	outbyte(' ');   /* spc */
 125               		.loc 1 20 2 is_stmt 1 view .LVU38
 126 0074 4878 0008 		pea 8.w
 127               		.cfi_def_cfa_offset 32
 128 0078 4E92      		jsr (%a2)
 129               	.LVL17:
  21:csys68k.c     **** 	outbyte('\x8'); /* bs  */
 130               		.loc 1 21 2 view .LVU39
 131 007a 4878 0020 		pea 32.w
 132               		.cfi_def_cfa_offset 36
 133 007e 4E92      		jsr (%a2)
 134               	.LVL18:
  22:csys68k.c     **** 	i--;
 135               		.loc 1 22 2 view .LVU40
 136 0080 4878 0008 		pea 8.w
 137               		.cfi_def_cfa_offset 40
 138 0084 4E92      		jsr (%a2)
 139               	.LVL19:
  23:csys68k.c     ****       }
 140               		.loc 1 23 2 view .LVU41
  25:csys68k.c     ****       continue;
 141               		.loc 1 25 7 view .LVU42
  26:csys68k.c     **** 
 142               		.loc 1 26 7 view .LVU43
 143 0086 4FEF 000C 		lea (12,%sp),%sp
 144               		.cfi_def_cfa_offset 28
 145               	.LVL20:
   9:csys68k.c     ****     c = inbyte();
 146               		.loc 1 9 28 view .LVU44
   9:csys68k.c     ****     c = inbyte();
 147               		.loc 1 9 17 view .LVU45
 148 008a B684      		cmp.l %d4,%d3
 149 008c 6D90      		jlt .L8
 150 008e 60B8      		jra .L1
 151               		.cfi_endproc
 152               	.LFE0:
 153               		.size	read, .-read
 154               		.align	2
 155               		.globl	write
 156               		.type	write, @function
 157               	write:
 158               	.LVL21:
 159               	.LFB1:
  39:csys68k.c     **** 
  40:csys68k.c     **** int write (int fd, char *buf, int nbytes)
  41:csys68k.c     **** {
 160               		.loc 1 41 1 view -0
 161               		.cfi_startproc
 162               		.loc 1 41 1 is_stmt 0 view .LVU47
 163 0090 48E7 3030 		movem.l #12336,-(%sp)


 164               		.cfi_def_cfa_offset 20
 165               		.cfi_offset 2, -20
 166               		.cfi_offset 3, -16
 167               		.cfi_offset 10, -12
 168               		.cfi_offset 11, -8
 169 0094 262F 001C 		move.l 28(%sp),%d3
  42:csys68k.c     ****   int i, j;
 170               		.loc 1 42 3 is_stmt 1 view .LVU48
  43:csys68k.c     ****   for (i = 0; i < nbytes; i++) {
 171               		.loc 1 43 3 view .LVU49
 172               	.LVL22:
 173               		.loc 1 43 17 view .LVU50
 174 0098 6F26      		jle .L25
 175 009a 246F 0018 		move.l 24(%sp),%a2
 176 009e 240A      		move.l %a2,%d2
 177 00a0 D483      		add.l %d3,%d2
 178 00a2 47F9 0000 		lea outbyte,%a3
 178      0000 
 179               	.LVL23:
 180               	.L22:
  44:csys68k.c     ****     if (*(buf + i) == '\n') {
 181               		.loc 1 44 5 view .LVU51
 182               		.loc 1 44 9 is_stmt 0 view .LVU52
 183 00a8 101A      		move.b (%a2)+,%d0
 184               	.LVL24:
 185               		.loc 1 44 8 view .LVU53
 186 00aa 0C00 000A 		cmp.b #10,%d0
 187 00ae 6718      		jeq .L28
  45:csys68k.c     ****       outbyte ('\r');          /* LF -> CRLF */
  46:csys68k.c     ****     }
  47:csys68k.c     ****     outbyte (*(buf + i));
 188               		.loc 1 47 5 is_stmt 1 view .LVU54
 189 00b0 0280 0000 		and.l #255,%d0
 189      00FF 
 190 00b6 2F00      		move.l %d0,-(%sp)
 191               		.cfi_def_cfa_offset 24
 192 00b8 4E93      		jsr (%a3)
 193               	.LVL25:
  48:csys68k.c     ****     for (j = 0; j < 300; j++);
 194               		.loc 1 48 5 view .LVU55
 195               		.loc 1 48 19 view .LVU56
  43:csys68k.c     ****     if (*(buf + i) == '\n') {
 196               		.loc 1 43 28 view .LVU57
  43:csys68k.c     ****     if (*(buf + i) == '\n') {
 197               		.loc 1 43 17 view .LVU58
 198 00ba 588F      		addq.l #4,%sp
 199               		.cfi_def_cfa_offset 20
 200 00bc B48A      		cmp.l %a2,%d2
 201 00be 66E8      		jne .L22
 202               	.LVL26:
 203               	.L25:
  49:csys68k.c     ****   }
  50:csys68k.c     ****   return (nbytes);
  51:csys68k.c     **** }
 204               		.loc 1 51 1 is_stmt 0 view .LVU59
 205 00c0 2003      		move.l %d3,%d0
 206 00c2 4CDF 0C0C 		movem.l (%sp)+,#3084


 207 00c6 4E75      		rts
 208               	.LVL27:
 209               	.L28:
  45:csys68k.c     ****     }
 210               		.loc 1 45 7 is_stmt 1 view .LVU60
 211 00c8 4878 000D 		pea 13.w
 212               		.cfi_def_cfa_offset 24
 213 00cc 4E93      		jsr (%a3)
 214               	.LVL28:
  47:csys68k.c     ****     for (j = 0; j < 300; j++);
 215               		.loc 1 47 14 is_stmt 0 view .LVU61
 216 00ce 102A FFFF 		move.b -1(%a2),%d0
 217 00d2 588F      		addq.l #4,%sp
 218               		.cfi_def_cfa_offset 20
  47:csys68k.c     ****     for (j = 0; j < 300; j++);
 219               		.loc 1 47 5 is_stmt 1 view .LVU62
 220 00d4 0280 0000 		and.l #255,%d0
 220      00FF 
 221 00da 2F00      		move.l %d0,-(%sp)
 222               		.cfi_def_cfa_offset 24
 223 00dc 4E93      		jsr (%a3)
 224               	.LVL29:
  48:csys68k.c     ****   }
 225               		.loc 1 48 5 view .LVU63
  48:csys68k.c     ****   }
 226               		.loc 1 48 19 view .LVU64
  43:csys68k.c     ****     if (*(buf + i) == '\n') {
 227               		.loc 1 43 28 view .LVU65
  43:csys68k.c     ****     if (*(buf + i) == '\n') {
 228               		.loc 1 43 17 view .LVU66
 229 00de 588F      		addq.l #4,%sp
 230               		.cfi_def_cfa_offset 20
 231 00e0 B48A      		cmp.l %a2,%d2
 232 00e2 66C4      		jne .L22
 233 00e4 60DA      		jra .L25
 234               		.cfi_endproc
 235               	.LFE1:
 236               		.size	write, .-write
 237               	.Letext0:
 238               		.section	.debug_info,"",@progbits
 239               	.Ldebug_info0:
 240 0000 0000 017B 		.long	0x17b
 241 0004 0005      		.word	0x5
 242 0006 01        		.byte	0x1
 243 0007 04        		.byte	0x4
 244 0008 0000 0000 		.long	.Ldebug_abbrev0
 245 000c 06        		.uleb128 0x6
 246 000d 0000 0000 		.long	.LASF5
 247 0011 1D        		.byte	0x1d
 248 0012 0000 0000 		.long	.LASF6
 249 0016 0000 0000 		.long	.LASF7
 250 001a 0000 0000 		.long	.Ltext0
 251 001e 0000 00E6 		.long	.Letext0-.Ltext0
 252 0022 0000 0000 		.long	.Ldebug_line0
 253 0026 07        		.uleb128 0x7
 254 0027 0000 0000 		.long	.LASF0
 255 002b 01        		.byte	0x1


 256 002c 01        		.byte	0x1
 257 002d 0D        		.byte	0xd
 258 002e 0000 0038 		.long	0x38
 259 0032 08        		.uleb128 0x8
 260 0033 0000 0038 		.long	0x38
 261 0037 00        		.byte	0
 262 0038 04        		.uleb128 0x4
 263 0039 08        		.byte	0x8
 264 003a 0000 0000 		.long	.LASF2
 265 003e 09        		.uleb128 0x9
 266 003f 0000 0000 		.long	.LASF1
 267 0043 01        		.byte	0x1
 268 0044 02        		.byte	0x2
 269 0045 0D        		.byte	0xd
 270 0046 0000 0050 		.long	0x50
 271 004a 0000 0050 		.long	0x50
 272 004e 0A        		.uleb128 0xa
 273 004f 00        		.byte	0
 274 0050 04        		.uleb128 0x4
 275 0051 06        		.byte	0x6
 276 0052 0000 0000 		.long	.LASF3
 277 0056 0B        		.uleb128 0xb
 278 0057 0000 0000 		.long	.LASF8
 279 005b 01        		.byte	0x1
 280 005c 28        		.byte	0x28
 281 005d 05        		.byte	0x5
 282 005e 0000 00D0 		.long	0xd0
 283 0062 0000 0000 		.long	.LFB1
 284 0066 0000 0056 		.long	.LFE1-.LFB1
 285 006a 01        		.uleb128 0x1
 286 006b 9C        		.byte	0x9c
 287 006c 0000 00D0 		.long	0xd0
 288 0070 02        		.uleb128 0x2
 289 0071 6664 00   		.string	"fd"
 290 0074 28        		.byte	0x28
 291 0075 10        		.byte	0x10
 292 0076 0000 00D0 		.long	0xd0
 293 007a 02        		.uleb128 0x2
 294 007b 91        		.byte	0x91
 295 007c 00        		.sleb128 0
 296 007d 02        		.uleb128 0x2
 297 007e 6275 6600 		.string	"buf"
 298 0082 28        		.byte	0x28
 299 0083 1A        		.byte	0x1a
 300 0084 0000 00D7 		.long	0xd7
 301 0088 02        		.uleb128 0x2
 302 0089 91        		.byte	0x91
 303 008a 04        		.sleb128 4
 304 008b 05        		.uleb128 0x5
 305 008c 0000 0000 		.long	.LASF4
 306 0090 28        		.byte	0x28
 307 0091 23        		.byte	0x23
 308 0092 0000 00D0 		.long	0xd0
 309 0096 02        		.uleb128 0x2
 310 0097 91        		.byte	0x91
 311 0098 08        		.sleb128 8
 312 0099 03        		.uleb128 0x3


 313 009a 6900      		.string	"i"
 314 009c 2A        		.byte	0x2a
 315 009d 07        		.byte	0x7
 316 009e 0000 00D0 		.long	0xd0
 317 00a2 0000 0000 		.long	.LLST2
 318 00a6 0000 0000 		.long	.LVUS2
 319 00aa 0C        		.uleb128 0xc
 320 00ab 6A00      		.string	"j"
 321 00ad 01        		.byte	0x1
 322 00ae 2A        		.byte	0x2a
 323 00af 0A        		.byte	0xa
 324 00b0 0000 00D0 		.long	0xd0
 325 00b4 01        		.uleb128 0x1
 326 00b5 0000 0000 		.long	.LVL25
 327 00b9 0000 0026 		.long	0x26
 328 00bd 01        		.uleb128 0x1
 329 00be 0000 0000 		.long	.LVL28
 330 00c2 0000 0026 		.long	0x26
 331 00c6 01        		.uleb128 0x1
 332 00c7 0000 0000 		.long	.LVL29
 333 00cb 0000 0026 		.long	0x26
 334 00cf 00        		.byte	0
 335 00d0 0D        		.uleb128 0xd
 336 00d1 04        		.byte	0x4
 337 00d2 05        		.byte	0x5
 338 00d3 696E 7400 		.string	"int"
 339 00d7 0E        		.uleb128 0xe
 340 00d8 04        		.byte	0x4
 341 00d9 0000 0050 		.long	0x50
 342 00dd 0F        		.uleb128 0xf
 343 00de 0000 0000 		.long	.LASF9
 344 00e2 01        		.byte	0x1
 345 00e3 04        		.byte	0x4
 346 00e4 05        		.byte	0x5
 347 00e5 0000 00D0 		.long	0xd0
 348 00e9 0000 0000 		.long	.LFB0
 349 00ed 0000 0090 		.long	.LFE0-.LFB0
 350 00f1 01        		.uleb128 0x1
 351 00f2 9C        		.byte	0x9c
 352 00f3 02        		.uleb128 0x2
 353 00f4 6664 00   		.string	"fd"
 354 00f7 04        		.byte	0x4
 355 00f8 0E        		.byte	0xe
 356 00f9 0000 00D0 		.long	0xd0
 357 00fd 02        		.uleb128 0x2
 358 00fe 91        		.byte	0x91
 359 00ff 00        		.sleb128 0
 360 0100 02        		.uleb128 0x2
 361 0101 6275 6600 		.string	"buf"
 362 0105 04        		.byte	0x4
 363 0106 18        		.byte	0x18
 364 0107 0000 00D7 		.long	0xd7
 365 010b 02        		.uleb128 0x2
 366 010c 91        		.byte	0x91
 367 010d 04        		.sleb128 4
 368 010e 05        		.uleb128 0x5
 369 010f 0000 0000 		.long	.LASF4


 370 0113 04        		.byte	0x4
 371 0114 21        		.byte	0x21
 372 0115 0000 00D0 		.long	0xd0
 373 0119 02        		.uleb128 0x2
 374 011a 91        		.byte	0x91
 375 011b 08        		.sleb128 8
 376 011c 03        		.uleb128 0x3
 377 011d 6300      		.string	"c"
 378 011f 06        		.byte	0x6
 379 0120 08        		.byte	0x8
 380 0121 0000 0050 		.long	0x50
 381 0125 0000 0000 		.long	.LLST0
 382 0129 0000 0000 		.long	.LVUS0
 383 012d 03        		.uleb128 0x3
 384 012e 6900      		.string	"i"
 385 0130 07        		.byte	0x7
 386 0131 08        		.byte	0x8
 387 0132 0000 00D0 		.long	0xd0
 388 0136 0000 0000 		.long	.LLST1
 389 013a 0000 0000 		.long	.LVUS1
 390 013e 01        		.uleb128 0x1
 391 013f 0000 0000 		.long	.LVL3
 392 0143 0000 003E 		.long	0x3e
 393 0147 01        		.uleb128 0x1
 394 0148 0000 0000 		.long	.LVL6
 395 014c 0000 0026 		.long	0x26
 396 0150 01        		.uleb128 0x1
 397 0151 0000 0000 		.long	.LVL11
 398 0155 0000 0026 		.long	0x26
 399 0159 01        		.uleb128 0x1
 400 015a 0000 0000 		.long	.LVL12
 401 015e 0000 0026 		.long	0x26
 402 0162 01        		.uleb128 0x1
 403 0163 0000 0000 		.long	.LVL17
 404 0167 0000 0026 		.long	0x26
 405 016b 01        		.uleb128 0x1
 406 016c 0000 0000 		.long	.LVL18
 407 0170 0000 0026 		.long	0x26
 408 0174 01        		.uleb128 0x1
 409 0175 0000 0000 		.long	.LVL19
 410 0179 0000 0026 		.long	0x26
 411 017d 00        		.byte	0
 412 017e 00        		.byte	0
 413               		.section	.debug_abbrev,"",@progbits
 414               	.Ldebug_abbrev0:
 415 0000 01        		.uleb128 0x1
 416 0001 48        		.uleb128 0x48
 417 0002 00        		.byte	0
 418 0003 7D        		.uleb128 0x7d
 419 0004 01        		.uleb128 0x1
 420 0005 7F        		.uleb128 0x7f
 421 0006 13        		.uleb128 0x13
 422 0007 00        		.byte	0
 423 0008 00        		.byte	0
 424 0009 02        		.uleb128 0x2
 425 000a 05        		.uleb128 0x5
 426 000b 00        		.byte	0


 427 000c 03        		.uleb128 0x3
 428 000d 08        		.uleb128 0x8
 429 000e 3A        		.uleb128 0x3a
 430 000f 21        		.uleb128 0x21
 431 0010 01        		.sleb128 1
 432 0011 3B        		.uleb128 0x3b
 433 0012 0B        		.uleb128 0xb
 434 0013 39        		.uleb128 0x39
 435 0014 0B        		.uleb128 0xb
 436 0015 49        		.uleb128 0x49
 437 0016 13        		.uleb128 0x13
 438 0017 02        		.uleb128 0x2
 439 0018 18        		.uleb128 0x18
 440 0019 00        		.byte	0
 441 001a 00        		.byte	0
 442 001b 03        		.uleb128 0x3
 443 001c 34        		.uleb128 0x34
 444 001d 00        		.byte	0
 445 001e 03        		.uleb128 0x3
 446 001f 08        		.uleb128 0x8
 447 0020 3A        		.uleb128 0x3a
 448 0021 21        		.uleb128 0x21
 449 0022 01        		.sleb128 1
 450 0023 3B        		.uleb128 0x3b
 451 0024 0B        		.uleb128 0xb
 452 0025 39        		.uleb128 0x39
 453 0026 0B        		.uleb128 0xb
 454 0027 49        		.uleb128 0x49
 455 0028 13        		.uleb128 0x13
 456 0029 02        		.uleb128 0x2
 457 002a 17        		.uleb128 0x17
 458 002b B742      		.uleb128 0x2137
 459 002d 17        		.uleb128 0x17
 460 002e 00        		.byte	0
 461 002f 00        		.byte	0
 462 0030 04        		.uleb128 0x4
 463 0031 24        		.uleb128 0x24
 464 0032 00        		.byte	0
 465 0033 0B        		.uleb128 0xb
 466 0034 21        		.uleb128 0x21
 467 0035 01        		.sleb128 1
 468 0036 3E        		.uleb128 0x3e
 469 0037 0B        		.uleb128 0xb
 470 0038 03        		.uleb128 0x3
 471 0039 0E        		.uleb128 0xe
 472 003a 00        		.byte	0
 473 003b 00        		.byte	0
 474 003c 05        		.uleb128 0x5
 475 003d 05        		.uleb128 0x5
 476 003e 00        		.byte	0
 477 003f 03        		.uleb128 0x3
 478 0040 0E        		.uleb128 0xe
 479 0041 3A        		.uleb128 0x3a
 480 0042 21        		.uleb128 0x21
 481 0043 01        		.sleb128 1
 482 0044 3B        		.uleb128 0x3b
 483 0045 0B        		.uleb128 0xb


 484 0046 39        		.uleb128 0x39
 485 0047 0B        		.uleb128 0xb
 486 0048 49        		.uleb128 0x49
 487 0049 13        		.uleb128 0x13
 488 004a 02        		.uleb128 0x2
 489 004b 18        		.uleb128 0x18
 490 004c 00        		.byte	0
 491 004d 00        		.byte	0
 492 004e 06        		.uleb128 0x6
 493 004f 11        		.uleb128 0x11
 494 0050 01        		.byte	0x1
 495 0051 25        		.uleb128 0x25
 496 0052 0E        		.uleb128 0xe
 497 0053 13        		.uleb128 0x13
 498 0054 0B        		.uleb128 0xb
 499 0055 03        		.uleb128 0x3
 500 0056 0E        		.uleb128 0xe
 501 0057 1B        		.uleb128 0x1b
 502 0058 0E        		.uleb128 0xe
 503 0059 11        		.uleb128 0x11
 504 005a 01        		.uleb128 0x1
 505 005b 12        		.uleb128 0x12
 506 005c 06        		.uleb128 0x6
 507 005d 10        		.uleb128 0x10
 508 005e 17        		.uleb128 0x17
 509 005f 00        		.byte	0
 510 0060 00        		.byte	0
 511 0061 07        		.uleb128 0x7
 512 0062 2E        		.uleb128 0x2e
 513 0063 01        		.byte	0x1
 514 0064 3F        		.uleb128 0x3f
 515 0065 19        		.uleb128 0x19
 516 0066 03        		.uleb128 0x3
 517 0067 0E        		.uleb128 0xe
 518 0068 3A        		.uleb128 0x3a
 519 0069 0B        		.uleb128 0xb
 520 006a 3B        		.uleb128 0x3b
 521 006b 0B        		.uleb128 0xb
 522 006c 39        		.uleb128 0x39
 523 006d 0B        		.uleb128 0xb
 524 006e 27        		.uleb128 0x27
 525 006f 19        		.uleb128 0x19
 526 0070 3C        		.uleb128 0x3c
 527 0071 19        		.uleb128 0x19
 528 0072 01        		.uleb128 0x1
 529 0073 13        		.uleb128 0x13
 530 0074 00        		.byte	0
 531 0075 00        		.byte	0
 532 0076 08        		.uleb128 0x8
 533 0077 05        		.uleb128 0x5
 534 0078 00        		.byte	0
 535 0079 49        		.uleb128 0x49
 536 007a 13        		.uleb128 0x13
 537 007b 00        		.byte	0
 538 007c 00        		.byte	0
 539 007d 09        		.uleb128 0x9
 540 007e 2E        		.uleb128 0x2e


 541 007f 01        		.byte	0x1
 542 0080 3F        		.uleb128 0x3f
 543 0081 19        		.uleb128 0x19
 544 0082 03        		.uleb128 0x3
 545 0083 0E        		.uleb128 0xe
 546 0084 3A        		.uleb128 0x3a
 547 0085 0B        		.uleb128 0xb
 548 0086 3B        		.uleb128 0x3b
 549 0087 0B        		.uleb128 0xb
 550 0088 39        		.uleb128 0x39
 551 0089 0B        		.uleb128 0xb
 552 008a 49        		.uleb128 0x49
 553 008b 13        		.uleb128 0x13
 554 008c 3C        		.uleb128 0x3c
 555 008d 19        		.uleb128 0x19
 556 008e 01        		.uleb128 0x1
 557 008f 13        		.uleb128 0x13
 558 0090 00        		.byte	0
 559 0091 00        		.byte	0
 560 0092 0A        		.uleb128 0xa
 561 0093 18        		.uleb128 0x18
 562 0094 00        		.byte	0
 563 0095 00        		.byte	0
 564 0096 00        		.byte	0
 565 0097 0B        		.uleb128 0xb
 566 0098 2E        		.uleb128 0x2e
 567 0099 01        		.byte	0x1
 568 009a 3F        		.uleb128 0x3f
 569 009b 19        		.uleb128 0x19
 570 009c 03        		.uleb128 0x3
 571 009d 0E        		.uleb128 0xe
 572 009e 3A        		.uleb128 0x3a
 573 009f 0B        		.uleb128 0xb
 574 00a0 3B        		.uleb128 0x3b
 575 00a1 0B        		.uleb128 0xb
 576 00a2 39        		.uleb128 0x39
 577 00a3 0B        		.uleb128 0xb
 578 00a4 27        		.uleb128 0x27
 579 00a5 19        		.uleb128 0x19
 580 00a6 49        		.uleb128 0x49
 581 00a7 13        		.uleb128 0x13
 582 00a8 11        		.uleb128 0x11
 583 00a9 01        		.uleb128 0x1
 584 00aa 12        		.uleb128 0x12
 585 00ab 06        		.uleb128 0x6
 586 00ac 40        		.uleb128 0x40
 587 00ad 18        		.uleb128 0x18
 588 00ae 7A        		.uleb128 0x7a
 589 00af 19        		.uleb128 0x19
 590 00b0 01        		.uleb128 0x1
 591 00b1 13        		.uleb128 0x13
 592 00b2 00        		.byte	0
 593 00b3 00        		.byte	0
 594 00b4 0C        		.uleb128 0xc
 595 00b5 34        		.uleb128 0x34
 596 00b6 00        		.byte	0
 597 00b7 03        		.uleb128 0x3


 598 00b8 08        		.uleb128 0x8
 599 00b9 3A        		.uleb128 0x3a
 600 00ba 0B        		.uleb128 0xb
 601 00bb 3B        		.uleb128 0x3b
 602 00bc 0B        		.uleb128 0xb
 603 00bd 39        		.uleb128 0x39
 604 00be 0B        		.uleb128 0xb
 605 00bf 49        		.uleb128 0x49
 606 00c0 13        		.uleb128 0x13
 607 00c1 00        		.byte	0
 608 00c2 00        		.byte	0
 609 00c3 0D        		.uleb128 0xd
 610 00c4 24        		.uleb128 0x24
 611 00c5 00        		.byte	0
 612 00c6 0B        		.uleb128 0xb
 613 00c7 0B        		.uleb128 0xb
 614 00c8 3E        		.uleb128 0x3e
 615 00c9 0B        		.uleb128 0xb
 616 00ca 03        		.uleb128 0x3
 617 00cb 08        		.uleb128 0x8
 618 00cc 00        		.byte	0
 619 00cd 00        		.byte	0
 620 00ce 0E        		.uleb128 0xe
 621 00cf 0F        		.uleb128 0xf
 622 00d0 00        		.byte	0
 623 00d1 0B        		.uleb128 0xb
 624 00d2 0B        		.uleb128 0xb
 625 00d3 49        		.uleb128 0x49
 626 00d4 13        		.uleb128 0x13
 627 00d5 00        		.byte	0
 628 00d6 00        		.byte	0
 629 00d7 0F        		.uleb128 0xf
 630 00d8 2E        		.uleb128 0x2e
 631 00d9 01        		.byte	0x1
 632 00da 3F        		.uleb128 0x3f
 633 00db 19        		.uleb128 0x19
 634 00dc 03        		.uleb128 0x3
 635 00dd 0E        		.uleb128 0xe
 636 00de 3A        		.uleb128 0x3a
 637 00df 0B        		.uleb128 0xb
 638 00e0 3B        		.uleb128 0x3b
 639 00e1 0B        		.uleb128 0xb
 640 00e2 39        		.uleb128 0x39
 641 00e3 0B        		.uleb128 0xb
 642 00e4 27        		.uleb128 0x27
 643 00e5 19        		.uleb128 0x19
 644 00e6 49        		.uleb128 0x49
 645 00e7 13        		.uleb128 0x13
 646 00e8 11        		.uleb128 0x11
 647 00e9 01        		.uleb128 0x1
 648 00ea 12        		.uleb128 0x12
 649 00eb 06        		.uleb128 0x6
 650 00ec 40        		.uleb128 0x40
 651 00ed 18        		.uleb128 0x18
 652 00ee 7A        		.uleb128 0x7a
 653 00ef 19        		.uleb128 0x19
 654 00f0 00        		.byte	0


 655 00f1 00        		.byte	0
 656 00f2 00        		.byte	0
 657               		.section	.debug_loclists,"",@progbits
 658 0000 0000 00E3 		.long	.Ldebug_loc3-.Ldebug_loc2
 659               	.Ldebug_loc2:
 660 0004 0005      		.word	0x5
 661 0006 04        		.byte	0x4
 662 0007 00        		.byte	0
 663 0008 0000 0000 		.long	0
 664               	.Ldebug_loc0:
 665               	.LVUS2:
 666 000c 02        		.uleb128 .LVU50
 667 000d 00        		.uleb128 .LVU51
 668 000e 00        		.uleb128 .LVU51
 669 000f 00        		.uleb128 .LVU53
 670 0010 00        		.uleb128 .LVU53
 671 0011 03        		.uleb128 .LVU58
 672 0012 03        		.uleb128 .LVU58
 673 0013 00        		.uleb128 .LVU59
 674 0014 00        		.uleb128 .LVU60
 675 0015 03        		.uleb128 .LVU66
 676 0016 03        		.uleb128 .LVU66
 677 0017 00        		.uleb128 0
 678               	.LLST2:
 679 0018 04        		.byte	0x4
 680 0019 9801      		.uleb128 .LVL22-.Ltext0
 681 001b A801      		.uleb128 .LVL23-.Ltext0
 682 001d 02        		.uleb128 0x2
 683 001e 30        		.byte	0x30
 684 001f 9F        		.byte	0x9f
 685 0020 04        		.byte	0x4
 686 0021 A801      		.uleb128 .LVL23-.Ltext0
 687 0023 AA01      		.uleb128 .LVL24-.Ltext0
 688 0025 07        		.uleb128 0x7
 689 0026 7A        		.byte	0x7a
 690 0027 00        		.sleb128 0
 691 0028 91        		.byte	0x91
 692 0029 74        		.sleb128 -12
 693 002a 06        		.byte	0x6
 694 002b 1C        		.byte	0x1c
 695 002c 9F        		.byte	0x9f
 696 002d 04        		.byte	0x4
 697 002e AA01      		.uleb128 .LVL24-.Ltext0
 698 0030 BA01      		.uleb128 .LVL25-.Ltext0
 699 0032 08        		.uleb128 0x8
 700 0033 91        		.byte	0x91
 701 0034 74        		.sleb128 -12
 702 0035 06        		.byte	0x6
 703 0036 20        		.byte	0x20
 704 0037 7A        		.byte	0x7a
 705 0038 00        		.sleb128 0
 706 0039 22        		.byte	0x22
 707 003a 9F        		.byte	0x9f
 708 003b 04        		.byte	0x4
 709 003c BA01      		.uleb128 .LVL25-.Ltext0
 710 003e C001      		.uleb128 .LVL26-.Ltext0
 711 0040 07        		.uleb128 0x7


 712 0041 7A        		.byte	0x7a
 713 0042 00        		.sleb128 0
 714 0043 91        		.byte	0x91
 715 0044 74        		.sleb128 -12
 716 0045 06        		.byte	0x6
 717 0046 1C        		.byte	0x1c
 718 0047 9F        		.byte	0x9f
 719 0048 04        		.byte	0x4
 720 0049 C801      		.uleb128 .LVL27-.Ltext0
 721 004b DE01      		.uleb128 .LVL29-.Ltext0
 722 004d 08        		.uleb128 0x8
 723 004e 91        		.byte	0x91
 724 004f 74        		.sleb128 -12
 725 0050 06        		.byte	0x6
 726 0051 20        		.byte	0x20
 727 0052 7A        		.byte	0x7a
 728 0053 00        		.sleb128 0
 729 0054 22        		.byte	0x22
 730 0055 9F        		.byte	0x9f
 731 0056 04        		.byte	0x4
 732 0057 DE01      		.uleb128 .LVL29-.Ltext0
 733 0059 E601      		.uleb128 .LFE1-.Ltext0
 734 005b 07        		.uleb128 0x7
 735 005c 7A        		.byte	0x7a
 736 005d 00        		.sleb128 0
 737 005e 91        		.byte	0x91
 738 005f 74        		.sleb128 -12
 739 0060 06        		.byte	0x6
 740 0061 1C        		.byte	0x1c
 741 0062 9F        		.byte	0x9f
 742 0063 00        		.byte	0
 743               	.LVUS0:
 744 0064 00        		.uleb128 .LVU10
 745 0065 00        		.uleb128 .LVU16
 746 0066 00        		.uleb128 .LVU16
 747 0067 00        		.uleb128 .LVU24
 748 0068 00        		.uleb128 .LVU25
 749 0069 00        		.uleb128 .LVU26
 750 006a 00        		.uleb128 .LVU26
 751 006b 00        		.uleb128 .LVU34
 752 006c 00        		.uleb128 .LVU35
 753 006d 00        		.uleb128 .LVU39
 754 006e 00        		.uleb128 .LVU39
 755 006f 00        		.uleb128 0
 756               	.LLST0:
 757 0070 04        		.byte	0x4
 758 0071 22        		.uleb128 .LVL4-.Ltext0
 759 0072 36        		.uleb128 .LVL5-.Ltext0
 760 0073 01        		.uleb128 0x1
 761 0074 50        		.byte	0x50
 762 0075 04        		.byte	0x4
 763 0076 36        		.uleb128 .LVL5-.Ltext0
 764 0077 48        		.uleb128 .LVL9-.Ltext0
 765 0078 01        		.uleb128 0x1
 766 0079 52        		.byte	0x52
 767 007a 04        		.byte	0x4
 768 007b 50        		.uleb128 .LVL10-.Ltext0


 769 007c 55        		.uleb128 .LVL11-1-.Ltext0
 770 007d 01        		.uleb128 0x1
 771 007e 50        		.byte	0x50
 772 007f 04        		.byte	0x4
 773 0080 55        		.uleb128 .LVL11-1-.Ltext0
 774 0081 6C        		.uleb128 .LVL14-.Ltext0
 775 0082 01        		.uleb128 0x1
 776 0083 52        		.byte	0x52
 777 0084 04        		.byte	0x4
 778 0085 6E        		.uleb128 .LVL15-.Ltext0
 779 0086 79        		.uleb128 .LVL17-1-.Ltext0
 780 0087 01        		.uleb128 0x1
 781 0088 50        		.byte	0x50
 782 0089 04        		.byte	0x4
 783 008a 79        		.uleb128 .LVL17-1-.Ltext0
 784 008b 9001      		.uleb128 .LFE0-.Ltext0
 785 008d 01        		.uleb128 0x1
 786 008e 52        		.byte	0x52
 787 008f 00        		.byte	0
 788               	.LVUS1:
 789 0090 03        		.uleb128 .LVU5
 790 0091 00        		.uleb128 .LVU8
 791 0092 00        		.uleb128 .LVU8
 792 0093 00        		.uleb128 .LVU21
 793 0094 00        		.uleb128 .LVU21
 794 0095 00        		.uleb128 .LVU22
 795 0096 00        		.uleb128 .LVU25
 796 0097 00        		.uleb128 .LVU32
 797 0098 00        		.uleb128 .LVU32
 798 0099 00        		.uleb128 .LVU34
 799 009a 00        		.uleb128 .LVU34
 800 009b 00        		.uleb128 .LVU35
 801 009c 00        		.uleb128 .LVU35
 802 009d 00        		.uleb128 .LVU38
 803 009e 00        		.uleb128 .LVU38
 804 009f 01        		.uleb128 .LVU42
 805 00a0 01        		.uleb128 .LVU42
 806 00a1 02        		.uleb128 .LVU43
 807 00a2 02        		.uleb128 .LVU43
 808 00a3 00        		.uleb128 .LVU44
 809               	.LLST1:
 810 00a4 04        		.byte	0x4
 811 00a5 0C        		.uleb128 .LVL1-.Ltext0
 812 00a6 1E        		.uleb128 .LVL2-.Ltext0
 813 00a7 02        		.uleb128 0x2
 814 00a8 30        		.byte	0x30
 815 00a9 9F        		.byte	0x9f
 816 00aa 04        		.byte	0x4
 817 00ab 1E        		.uleb128 .LVL2-.Ltext0
 818 00ac 42        		.uleb128 .LVL7-.Ltext0
 819 00ad 01        		.uleb128 0x1
 820 00ae 53        		.byte	0x53
 821 00af 04        		.byte	0x4
 822 00b0 42        		.uleb128 .LVL7-.Ltext0
 823 00b1 44        		.uleb128 .LVL8-.Ltext0
 824 00b2 03        		.uleb128 0x3
 825 00b3 73        		.byte	0x73


 826 00b4 7F        		.sleb128 -1
 827 00b5 9F        		.byte	0x9f
 828 00b6 04        		.byte	0x4
 829 00b7 50        		.uleb128 .LVL10-.Ltext0
 830 00b8 64        		.uleb128 .LVL13-.Ltext0
 831 00b9 01        		.uleb128 0x1
 832 00ba 53        		.byte	0x53
 833 00bb 04        		.byte	0x4
 834 00bc 64        		.uleb128 .LVL13-.Ltext0
 835 00bd 6C        		.uleb128 .LVL14-.Ltext0
 836 00be 03        		.uleb128 0x3
 837 00bf 73        		.byte	0x73
 838 00c0 7F        		.sleb128 -1
 839 00c1 9F        		.byte	0x9f
 840 00c2 04        		.byte	0x4
 841 00c3 6C        		.uleb128 .LVL14-.Ltext0
 842 00c4 6E        		.uleb128 .LVL15-.Ltext0
 843 00c5 03        		.uleb128 0x3
 844 00c6 70        		.byte	0x70
 845 00c7 7F        		.sleb128 -1
 846 00c8 9F        		.byte	0x9f
 847 00c9 04        		.byte	0x4
 848 00ca 6E        		.uleb128 .LVL15-.Ltext0
 849 00cb 74        		.uleb128 .LVL16-.Ltext0
 850 00cc 01        		.uleb128 0x1
 851 00cd 53        		.byte	0x53
 852 00ce 04        		.byte	0x4
 853 00cf 74        		.uleb128 .LVL16-.Ltext0
 854 00d0 8601      		.uleb128 .LVL19-.Ltext0
 855 00d2 03        		.uleb128 0x3
 856 00d3 73        		.byte	0x73
 857 00d4 01        		.sleb128 1
 858 00d5 9F        		.byte	0x9f
 859 00d6 04        		.byte	0x4
 860 00d7 8601      		.uleb128 .LVL19-.Ltext0
 861 00d9 8601      		.uleb128 .LVL19-.Ltext0
 862 00db 01        		.uleb128 0x1
 863 00dc 53        		.byte	0x53
 864 00dd 04        		.byte	0x4
 865 00de 8601      		.uleb128 .LVL19-.Ltext0
 866 00e0 8A01      		.uleb128 .LVL20-.Ltext0
 867 00e2 03        		.uleb128 0x3
 868 00e3 73        		.byte	0x73
 869 00e4 7F        		.sleb128 -1
 870 00e5 9F        		.byte	0x9f
 871 00e6 00        		.byte	0
 872               	.Ldebug_loc3:
 873               		.section	.debug_aranges,"",@progbits
 874 0000 0000 001C 		.long	0x1c
 875 0004 0002      		.word	0x2
 876 0006 0000 0000 		.long	.Ldebug_info0
 877 000a 04        		.byte	0x4
 878 000b 00        		.byte	0
 879 000c 0000      		.word	0
 880 000e 0000      		.word	0
 881 0010 0000 0000 		.long	.Ltext0
 882 0014 0000 00E6 		.long	.Letext0-.Ltext0


 883 0018 0000 0000 		.long	0
 884 001c 0000 0000 		.long	0
 885               		.section	.debug_line,"",@progbits
 886               	.Ldebug_line0:
 887 0000 0000 0114 		.section	.debug_str,"MS",@progbits,1
 887      0003 0000 
 887      0020 0201 
 887      FB0E 0D00 
 887      0101 0101 
 888               	.LASF7:
 889 0000 2F68 6F6D 		.string	"/home/students/23nen/1TE23861W/mtk"
 889      652F 7374 
 889      7564 656E 
 889      7473 2F32 
 889      336E 656E 
 890               	.LASF4:
 891 0023 6E62 7974 		.string	"nbytes"
 891      6573 00
 892               	.LASF9:
 893 002a 7265 6164 		.string	"read"
 893      00
 894               	.LASF3:
 895 002f 6368 6172 		.string	"char"
 895      00
 896               	.LASF6:
 897 0034 6373 7973 		.string	"csys68k.c"
 897      3638 6B2E 
 897      6300 
 898               	.LASF5:
 899 003e 474E 5520 		.string	"GNU C17 11.4.0 -mcpu=68000 -msoft-float -g -O2 -fomit-frame-pointer"
 899      4331 3720 
 899      3131 2E34 
 899      2E30 202D 
 899      6D63 7075 
 900               	.LASF2:
 901 0082 756E 7369 		.string	"unsigned char"
 901      676E 6564 
 901      2063 6861 
 901      7200 
 902               	.LASF8:
 903 0090 7772 6974 		.string	"write"
 903      6500 
 904               	.LASF0:
 905 0096 6F75 7462 		.string	"outbyte"
 905      7974 6500 
 906               	.LASF1:
 907 009e 696E 6279 		.string	"inbyte"
 907      7465 00
 908               		.ident	"GCC: (GNU) 11.4.0"




   1               	#NO_APP
   2               		.file	"test1.c"
   3               		.text
   4               	.Ltext0:
   5               		.cfi_sections	.debug_frame
   6               		.section	.rodata.str1.1,"aMS",@progbits,1
   7               	.LC0:
   8 0000 2563 00   		.string	"%c"
   9               		.section	.text.startup,"ax",@progbits
  10               		.align	2
  11               		.globl	main
  12               		.type	main, @function
  13               	main:
  14               	.LFB3:
  15               		.file 1 "test1.c"
   1:test1.c       **** #include <stdio.h>
   2:test1.c       **** 
   3:test1.c       **** int main(void){
  16               		.loc 1 3 15 view -0
  17               		.cfi_startproc
  18 0000 598F      		subq.l #4,%sp
  19               		.cfi_def_cfa_offset 8
  20 0002 48E7 2030 		movem.l #8240,-(%sp)
  21               		.cfi_def_cfa_offset 20
  22               		.cfi_offset 2, -20
  23               		.cfi_offset 10, -16
  24               		.cfi_offset 11, -12
  25 0006 740F      		moveq #15,%d2
  26 0008 D48F      		add.l %sp,%d2
  27 000a 47F9 0000 		lea scanf,%a3
  27      0000 
  28 0010 45F9 0000 		lea putchar,%a2
  28      0000 
  29               	.L2:
   4:test1.c       ****   char c;
  30               		.loc 1 4 3 discriminator 1 view .LVU1
   5:test1.c       ****   while(1){
  31               		.loc 1 5 3 discriminator 1 view .LVU2
   6:test1.c       ****     scanf("%c", &c);
  32               		.loc 1 6 5 discriminator 1 view .LVU3
  33 0016 2F02      		move.l %d2,-(%sp)
  34               		.cfi_def_cfa_offset 24
  35 0018 4879 0000 		pea .LC0
  35      0000 
  36               		.cfi_def_cfa_offset 28
  37 001e 4E93      		jsr (%a3)
  38               	.LVL0:
   7:test1.c       ****     printf("%c", c);
  39               		.loc 1 7 5 discriminator 1 view .LVU4
  40 0020 102F 0017 		move.b 23(%sp),%d0
  41 0024 4880      		ext.w %d0
  42 0026 3040      		move.w %d0,%a0
  43 0028 2F08      		move.l %a0,-(%sp)
  44               		.cfi_def_cfa_offset 32
  45 002a 4E92      		jsr (%a2)
  46               	.LVL1:
   5:test1.c       ****   while(1){


  47               		.loc 1 5 8 discriminator 1 view .LVU5
  48               		.loc 1 7 5 is_stmt 0 discriminator 1 view .LVU6
  49 002c 4FEF 000C 		lea (12,%sp),%sp
  50               		.cfi_def_cfa_offset 20
   4:test1.c       ****   while(1){
  51               		.loc 1 4 3 is_stmt 1 discriminator 1 view .LVU7
   5:test1.c       ****     scanf("%c", &c);
  52               		.loc 1 5 3 discriminator 1 view .LVU8
   6:test1.c       ****     printf("%c", c);
  53               		.loc 1 6 5 discriminator 1 view .LVU9
  54 0030 2F02      		move.l %d2,-(%sp)
  55               		.cfi_def_cfa_offset 24
  56 0032 4879 0000 		pea .LC0
  56      0000 
  57               		.cfi_def_cfa_offset 28
  58 0038 4E93      		jsr (%a3)
  59               	.LVL2:
  60               		.loc 1 7 5 discriminator 1 view .LVU10
  61 003a 102F 0017 		move.b 23(%sp),%d0
  62 003e 4880      		ext.w %d0
  63 0040 3040      		move.w %d0,%a0
  64 0042 2F08      		move.l %a0,-(%sp)
  65               		.cfi_def_cfa_offset 32
  66 0044 4E92      		jsr (%a2)
  67               	.LVL3:
   5:test1.c       ****     scanf("%c", &c);
  68               		.loc 1 5 8 discriminator 1 view .LVU11
  69               		.loc 1 7 5 is_stmt 0 discriminator 1 view .LVU12
  70 0046 4FEF 000C 		lea (12,%sp),%sp
  71               		.cfi_def_cfa_offset 20
  72 004a 60CA      		jra .L2
  73               		.cfi_endproc
  74               	.LFE3:
  75               		.size	main, .-main
  76               		.text
  77               	.Letext0:
  78               		.file 2 "<built-in>"
  79               		.file 3 "/usr/local/m68k-elf/include/stdio.h"
  80               		.section	.debug_info,"",@progbits
  81               	.Ldebug_info0:
  82 0000 0000 00F7 		.long	0xf7
  83 0004 0005      		.word	0x5
  84 0006 01        		.byte	0x1
  85 0007 04        		.byte	0x4
  86 0008 0000 0000 		.long	.Ldebug_abbrev0
  87 000c 04        		.uleb128 0x4
  88 000d 0000 0000 		.long	.LASF15
  89 0011 1D        		.byte	0x1d
  90 0012 0000 0000 		.long	.LASF16
  91 0016 0000 0000 		.long	.LASF17
  92 001a 0000 0000 		.long	.LLRL0
  93 001e 0000 0000 		.long	0
  94 0022 0000 0000 		.long	.Ldebug_line0
  95 0026 01        		.uleb128 0x1
  96 0027 01        		.byte	0x1
  97 0028 06        		.byte	0x6
  98 0029 0000 0000 		.long	.LASF0


  99 002d 01        		.uleb128 0x1
 100 002e 01        		.byte	0x1
 101 002f 08        		.byte	0x8
 102 0030 0000 0000 		.long	.LASF1
 103 0034 01        		.uleb128 0x1
 104 0035 02        		.byte	0x2
 105 0036 05        		.byte	0x5
 106 0037 0000 0000 		.long	.LASF2
 107 003b 01        		.uleb128 0x1
 108 003c 02        		.byte	0x2
 109 003d 07        		.byte	0x7
 110 003e 0000 0000 		.long	.LASF3
 111 0042 01        		.uleb128 0x1
 112 0043 04        		.byte	0x4
 113 0044 05        		.byte	0x5
 114 0045 0000 0000 		.long	.LASF4
 115 0049 01        		.uleb128 0x1
 116 004a 04        		.byte	0x4
 117 004b 07        		.byte	0x7
 118 004c 0000 0000 		.long	.LASF5
 119 0050 01        		.uleb128 0x1
 120 0051 08        		.byte	0x8
 121 0052 05        		.byte	0x5
 122 0053 0000 0000 		.long	.LASF6
 123 0057 01        		.uleb128 0x1
 124 0058 08        		.byte	0x8
 125 0059 07        		.byte	0x7
 126 005a 0000 0000 		.long	.LASF7
 127 005e 01        		.uleb128 0x1
 128 005f 0C        		.byte	0xc
 129 0060 04        		.byte	0x4
 130 0061 0000 0000 		.long	.LASF8
 131 0065 01        		.uleb128 0x1
 132 0066 04        		.byte	0x4
 133 0067 07        		.byte	0x7
 134 0068 0000 0000 		.long	.LASF9
 135 006c 05        		.uleb128 0x5
 136 006d 04        		.byte	0x4
 137 006e 05        		.byte	0x5
 138 006f 696E 7400 		.string	"int"
 139 0073 01        		.uleb128 0x1
 140 0074 01        		.byte	0x1
 141 0075 06        		.byte	0x6
 142 0076 0000 0000 		.long	.LASF10
 143 007a 06        		.uleb128 0x6
 144 007b 0000 0073 		.long	0x73
 145 007f 07        		.uleb128 0x7
 146 0080 04        		.byte	0x4
 147 0081 0000 007A 		.long	0x7a
 148 0085 08        		.uleb128 0x8
 149 0086 0000 0000 		.long	.LASF11
 150 008a 03        		.byte	0x3
 151 008b D0        		.byte	0xd0
 152 008c 05        		.byte	0x5
 153 008d 0000 006C 		.long	0x6c
 154 0091 0000 009C 		.long	0x9c
 155 0095 09        		.uleb128 0x9


 156 0096 0000 007F 		.long	0x7f
 157 009a 0A        		.uleb128 0xa
 158 009b 00        		.byte	0
 159 009c 0B        		.uleb128 0xb
 160 009d 0000 0000 		.long	.LASF18
 161 00a1 01        		.byte	0x1
 162 00a2 03        		.byte	0x3
 163 00a3 05        		.byte	0x5
 164 00a4 0000 006C 		.long	0x6c
 165 00a8 0000 0000 		.long	.LFB3
 166 00ac 0000 004C 		.long	.LFE3-.LFB3
 167 00b0 01        		.uleb128 0x1
 168 00b1 9C        		.byte	0x9c
 169 00b2 0000 00E8 		.long	0xe8
 170 00b6 0C        		.uleb128 0xc
 171 00b7 6300      		.string	"c"
 172 00b9 01        		.byte	0x1
 173 00ba 04        		.byte	0x4
 174 00bb 08        		.byte	0x8
 175 00bc 0000 0073 		.long	0x73
 176 00c0 02        		.uleb128 0x2
 177 00c1 91        		.byte	0x91
 178 00c2 7B        		.sleb128 -5
 179 00c3 02        		.uleb128 0x2
 180 00c4 0000 0000 		.long	.LVL0
 181 00c8 0000 00E8 		.long	0xe8
 182 00cc 02        		.uleb128 0x2
 183 00cd 0000 0000 		.long	.LVL1
 184 00d1 0000 00F1 		.long	0xf1
 185 00d5 02        		.uleb128 0x2
 186 00d6 0000 0000 		.long	.LVL2
 187 00da 0000 00E8 		.long	0xe8
 188 00de 02        		.uleb128 0x2
 189 00df 0000 0000 		.long	.LVL3
 190 00e3 0000 00F1 		.long	0xf1
 191 00e7 00        		.byte	0
 192 00e8 03        		.uleb128 0x3
 193 00e9 0000 0000 		.long	.LASF11
 194 00ed 0000 0000 		.long	.LASF13
 195 00f1 03        		.uleb128 0x3
 196 00f2 0000 0000 		.long	.LASF12
 197 00f6 0000 0000 		.long	.LASF14
 198 00fa 00        		.byte	0
 199               		.section	.debug_abbrev,"",@progbits
 200               	.Ldebug_abbrev0:
 201 0000 01        		.uleb128 0x1
 202 0001 24        		.uleb128 0x24
 203 0002 00        		.byte	0
 204 0003 0B        		.uleb128 0xb
 205 0004 0B        		.uleb128 0xb
 206 0005 3E        		.uleb128 0x3e
 207 0006 0B        		.uleb128 0xb
 208 0007 03        		.uleb128 0x3
 209 0008 0E        		.uleb128 0xe
 210 0009 00        		.byte	0
 211 000a 00        		.byte	0
 212 000b 02        		.uleb128 0x2


 213 000c 48        		.uleb128 0x48
 214 000d 00        		.byte	0
 215 000e 7D        		.uleb128 0x7d
 216 000f 01        		.uleb128 0x1
 217 0010 7F        		.uleb128 0x7f
 218 0011 13        		.uleb128 0x13
 219 0012 00        		.byte	0
 220 0013 00        		.byte	0
 221 0014 03        		.uleb128 0x3
 222 0015 2E        		.uleb128 0x2e
 223 0016 00        		.byte	0
 224 0017 3F        		.uleb128 0x3f
 225 0018 19        		.uleb128 0x19
 226 0019 3C        		.uleb128 0x3c
 227 001a 19        		.uleb128 0x19
 228 001b 6E        		.uleb128 0x6e
 229 001c 0E        		.uleb128 0xe
 230 001d 03        		.uleb128 0x3
 231 001e 0E        		.uleb128 0xe
 232 001f 3A        		.uleb128 0x3a
 233 0020 21        		.uleb128 0x21
 234 0021 02        		.sleb128 2
 235 0022 3B        		.uleb128 0x3b
 236 0023 21        		.uleb128 0x21
 237 0024 00        		.sleb128 0
 238 0025 00        		.byte	0
 239 0026 00        		.byte	0
 240 0027 04        		.uleb128 0x4
 241 0028 11        		.uleb128 0x11
 242 0029 01        		.byte	0x1
 243 002a 25        		.uleb128 0x25
 244 002b 0E        		.uleb128 0xe
 245 002c 13        		.uleb128 0x13
 246 002d 0B        		.uleb128 0xb
 247 002e 03        		.uleb128 0x3
 248 002f 0E        		.uleb128 0xe
 249 0030 1B        		.uleb128 0x1b
 250 0031 0E        		.uleb128 0xe
 251 0032 55        		.uleb128 0x55
 252 0033 17        		.uleb128 0x17
 253 0034 11        		.uleb128 0x11
 254 0035 01        		.uleb128 0x1
 255 0036 10        		.uleb128 0x10
 256 0037 17        		.uleb128 0x17
 257 0038 00        		.byte	0
 258 0039 00        		.byte	0
 259 003a 05        		.uleb128 0x5
 260 003b 24        		.uleb128 0x24
 261 003c 00        		.byte	0
 262 003d 0B        		.uleb128 0xb
 263 003e 0B        		.uleb128 0xb
 264 003f 3E        		.uleb128 0x3e
 265 0040 0B        		.uleb128 0xb
 266 0041 03        		.uleb128 0x3
 267 0042 08        		.uleb128 0x8
 268 0043 00        		.byte	0
 269 0044 00        		.byte	0


 270 0045 06        		.uleb128 0x6
 271 0046 26        		.uleb128 0x26
 272 0047 00        		.byte	0
 273 0048 49        		.uleb128 0x49
 274 0049 13        		.uleb128 0x13
 275 004a 00        		.byte	0
 276 004b 00        		.byte	0
 277 004c 07        		.uleb128 0x7
 278 004d 0F        		.uleb128 0xf
 279 004e 00        		.byte	0
 280 004f 0B        		.uleb128 0xb
 281 0050 0B        		.uleb128 0xb
 282 0051 49        		.uleb128 0x49
 283 0052 13        		.uleb128 0x13
 284 0053 00        		.byte	0
 285 0054 00        		.byte	0
 286 0055 08        		.uleb128 0x8
 287 0056 2E        		.uleb128 0x2e
 288 0057 01        		.byte	0x1
 289 0058 3F        		.uleb128 0x3f
 290 0059 19        		.uleb128 0x19
 291 005a 03        		.uleb128 0x3
 292 005b 0E        		.uleb128 0xe
 293 005c 3A        		.uleb128 0x3a
 294 005d 0B        		.uleb128 0xb
 295 005e 3B        		.uleb128 0x3b
 296 005f 0B        		.uleb128 0xb
 297 0060 39        		.uleb128 0x39
 298 0061 0B        		.uleb128 0xb
 299 0062 27        		.uleb128 0x27
 300 0063 19        		.uleb128 0x19
 301 0064 49        		.uleb128 0x49
 302 0065 13        		.uleb128 0x13
 303 0066 3C        		.uleb128 0x3c
 304 0067 19        		.uleb128 0x19
 305 0068 01        		.uleb128 0x1
 306 0069 13        		.uleb128 0x13
 307 006a 00        		.byte	0
 308 006b 00        		.byte	0
 309 006c 09        		.uleb128 0x9
 310 006d 05        		.uleb128 0x5
 311 006e 00        		.byte	0
 312 006f 49        		.uleb128 0x49
 313 0070 13        		.uleb128 0x13
 314 0071 00        		.byte	0
 315 0072 00        		.byte	0
 316 0073 0A        		.uleb128 0xa
 317 0074 18        		.uleb128 0x18
 318 0075 00        		.byte	0
 319 0076 00        		.byte	0
 320 0077 00        		.byte	0
 321 0078 0B        		.uleb128 0xb
 322 0079 2E        		.uleb128 0x2e
 323 007a 01        		.byte	0x1
 324 007b 3F        		.uleb128 0x3f
 325 007c 19        		.uleb128 0x19
 326 007d 03        		.uleb128 0x3


 327 007e 0E        		.uleb128 0xe
 328 007f 3A        		.uleb128 0x3a
 329 0080 0B        		.uleb128 0xb
 330 0081 3B        		.uleb128 0x3b
 331 0082 0B        		.uleb128 0xb
 332 0083 39        		.uleb128 0x39
 333 0084 0B        		.uleb128 0xb
 334 0085 27        		.uleb128 0x27
 335 0086 19        		.uleb128 0x19
 336 0087 49        		.uleb128 0x49
 337 0088 13        		.uleb128 0x13
 338 0089 11        		.uleb128 0x11
 339 008a 01        		.uleb128 0x1
 340 008b 12        		.uleb128 0x12
 341 008c 06        		.uleb128 0x6
 342 008d 40        		.uleb128 0x40
 343 008e 18        		.uleb128 0x18
 344 008f 7A        		.uleb128 0x7a
 345 0090 19        		.uleb128 0x19
 346 0091 01        		.uleb128 0x1
 347 0092 13        		.uleb128 0x13
 348 0093 00        		.byte	0
 349 0094 00        		.byte	0
 350 0095 0C        		.uleb128 0xc
 351 0096 34        		.uleb128 0x34
 352 0097 00        		.byte	0
 353 0098 03        		.uleb128 0x3
 354 0099 08        		.uleb128 0x8
 355 009a 3A        		.uleb128 0x3a
 356 009b 0B        		.uleb128 0xb
 357 009c 3B        		.uleb128 0x3b
 358 009d 0B        		.uleb128 0xb
 359 009e 39        		.uleb128 0x39
 360 009f 0B        		.uleb128 0xb
 361 00a0 49        		.uleb128 0x49
 362 00a1 13        		.uleb128 0x13
 363 00a2 02        		.uleb128 0x2
 364 00a3 18        		.uleb128 0x18
 365 00a4 00        		.byte	0
 366 00a5 00        		.byte	0
 367 00a6 00        		.byte	0
 368               		.section	.debug_aranges,"",@progbits
 369 0000 0000 001C 		.long	0x1c
 370 0004 0002      		.word	0x2
 371 0006 0000 0000 		.long	.Ldebug_info0
 372 000a 04        		.byte	0x4
 373 000b 00        		.byte	0
 374 000c 0000      		.word	0
 375 000e 0000      		.word	0
 376 0010 0000 0000 		.long	.LFB3
 377 0014 0000 004C 		.long	.LFE3-.LFB3
 378 0018 0000 0000 		.long	0
 379 001c 0000 0000 		.long	0
 380               		.section	.debug_rnglists,"",@progbits
 381               	.Ldebug_ranges0:
 382 0000 0000 000F 		.long	.Ldebug_ranges3-.Ldebug_ranges2
 383               	.Ldebug_ranges2:


 384 0004 0005      		.word	0x5
 385 0006 04        		.byte	0x4
 386 0007 00        		.byte	0
 387 0008 0000 0000 		.long	0
 388               	.LLRL0:
 389 000c 07        		.byte	0x7
 390 000d 0000 0000 		.long	.LFB3
 391 0011 4C        		.uleb128 .LFE3-.LFB3
 392 0012 00        		.byte	0
 393               	.Ldebug_ranges3:
 394               		.section	.debug_line,"",@progbits
 395               	.Ldebug_line0:
 396 0000 0000 00B7 		.section	.debug_str,"MS",@progbits,1
 396      0003 0000 
 396      0053 0201 
 396      FB0E 0D00 
 396      0101 0101 
 397               	.LASF6:
 398 0000 6C6F 6E67 		.string	"long long int"
 398      206C 6F6E 
 398      6720 696E 
 398      7400 
 399               	.LASF12:
 400 000e 7075 7463 		.string	"putchar"
 400      6861 7200 
 401               	.LASF9:
 402 0016 756E 7369 		.string	"unsigned int"
 402      676E 6564 
 402      2069 6E74 
 402      00
 403               	.LASF15:
 404 0023 474E 5520 		.string	"GNU C17 11.4.0 -mcpu=68000 -msoft-float -g -O2 -fomit-frame-pointer"
 404      4331 3720 
 404      3131 2E34 
 404      2E30 202D 
 404      6D63 7075 
 405               	.LASF1:
 406 0067 756E 7369 		.string	"unsigned char"
 406      676E 6564 
 406      2063 6861 
 406      7200 
 407               	.LASF18:
 408 0075 6D61 696E 		.string	"main"
 408      00
 409               	.LASF16:
 410 007a 7465 7374 		.string	"test1.c"
 410      312E 6300 
 411               	.LASF5:
 412 0082 6C6F 6E67 		.string	"long unsigned int"
 412      2075 6E73 
 412      6967 6E65 
 412      6420 696E 
 412      7400 
 413               	.LASF7:
 414 0094 6C6F 6E67 		.string	"long long unsigned int"
 414      206C 6F6E 
 414      6720 756E 


 414      7369 676E 
 414      6564 2069 
 415               	.LASF11:
 416 00ab 7363 616E 		.string	"scanf"
 416      6600 
 417               	.LASF17:
 418 00b1 2F68 6F6D 		.string	"/home/students/23nen/1TE23861W/mtk"
 418      652F 7374 
 418      7564 656E 
 418      7473 2F32 
 418      336E 656E 
 419               	.LASF10:
 420 00d4 6368 6172 		.string	"char"
 420      00
 421               	.LASF4:
 422 00d9 6C6F 6E67 		.string	"long int"
 422      2069 6E74 
 422      00
 423               	.LASF14:
 424 00e2 5F5F 6275 		.string	"__builtin_putchar"
 424      696C 7469 
 424      6E5F 7075 
 424      7463 6861 
 424      7200 
 425               	.LASF3:
 426 00f4 7368 6F72 		.string	"short unsigned int"
 426      7420 756E 
 426      7369 676E 
 426      6564 2069 
 426      6E74 00
 427               	.LASF0:
 428 0107 7369 676E 		.string	"signed char"
 428      6564 2063 
 428      6861 7200 
 429               	.LASF8:
 430 0113 6C6F 6E67 		.string	"long double"
 430      2064 6F75 
 430      626C 6500 
 431               	.LASF13:
 432 011f 5F5F 6275 		.string	"__builtin_scanf"
 432      696C 7469 
 432      6E5F 7363 
 432      616E 6600 
 433               	.LASF2:
 434 012f 7368 6F72 		.string	"short int"
 434      7420 696E 
 434      7400 
 435               		.ident	"GCC: (GNU) 11.4.0"


